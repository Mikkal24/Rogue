!function(Q){var F={};function B(U){if(F[U])return F[U].exports;var I=F[U]={i:U,l:!1,exports:{}};return Q[U].call(I.exports,I,I.exports,B),I.l=!0,I.exports}B.m=Q,B.c=F,B.d=function(Q,F,U){B.o(Q,F)||Object.defineProperty(Q,F,{configurable:!1,enumerable:!0,get:U})},B.r=function(Q){Object.defineProperty(Q,"__esModule",{value:!0})},B.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return B.d(F,"a",F),F},B.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},B.p="/build/",B(B.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/GameObjects/Player.js\nconst Player = new Phaser.Class({\n  Extends: Phaser.GameObjects.Sprite,\n\n  initialize: function Player(scene) {\n    Phaser.GameObjects.Sprite.call(this, scene, 0, 0, "nothing");\n  },\n\n  setInitialPosition: function (x, y, id) {\n    this.setPosition(x, y);\n    this.setActive(true);\n    this.setVisible(true);\n    this.id = id;\n    this.key = "idle";\n    this.health = 100;\n    this.knockBackDistance = 50;\n    this.flipState = false;\n    this.attacking = false;\n    this.blocking = false;\n    this.moving = false;\n    this.injured = false;\n  },\n\n  setNewPosition: function (x, y) {\n    this.setPosition(x, y);\n  },\n\n  setAnimation: function (key) {\n    if (this.key !== key) {\n      this.play(key);\n      this.key = key;\n    }\n  },\n\n  takeDamage: function (damage) {\n    this.health -= damage;\n  },\n\n  flip: function (newFlipState, socket) {\n    if (newFlipState !== this.flipState) {\n      this.flipState = newFlipState;\n      this.toggleFlipX();\n      socket.emit("flip", { id: this.id, flipState: this.flipState });\n    }\n  },\n\n  updateAnimations: function () {\n    if (this.attacking) {\n      this.setAnimation("slash");\n    } else if (this.blocking) {\n      this.setAnimation("block");\n      // blockCollider(myPlayer);\n    } else if (this.moving) {\n      this.setAnimation("walk");\n    } else {\n      this.setAnimation("idle");\n    }\n  },\n\n  update: function () {\n    this.updateAnimations();\n  }\n});\n// CONCATENATED MODULE: ./src/Animations/knightAnimations.js\nlet KnightAnimations = {};\n\n/* harmony default export */ var knightAnimations = (KnightAnimations = {\n  load(context) {\n    context.load.spritesheet("idling", "assets/knight/idle.png", {\n      frameWidth: 42,\n      frameHeight: 42,\n      endFrame: 4\n    });\n    context.load.spritesheet("walking", "assets/knight/walk.png", {\n      frameWidth: 42,\n      frameHeight: 42,\n      endFrame: 8\n    });\n    context.load.spritesheet("slashing", "assets/knight/slash.png", {\n      frameWidth: 42,\n      frameHeight: 42,\n      endFrame: 10\n    });\n    context.load.spritesheet("blocking", "assets/knight/block.png", {\n      frameWidth: 42,\n      frameHeight: 42,\n      endFrame: 7\n    });\n  },\n\n  create(context) {\n    context.anims.create({\n      key: "idle",\n      frames: context.anims.generateFrameNumbers("idling", { start: 0, end: 3 }),\n      frameRate: 2,\n      repeat: -1\n    });\n\n    context.anims.create({\n      key: "walk",\n      frames: context.anims.generateFrameNumbers("walking", { start: 0, end: 7 }),\n      frameRate: 24,\n      repeat: -1\n    });\n\n    context.anims.create({\n      key: "slash",\n      frames: context.anims.generateFrameNumbers("slashing", { start: 0, end: 9 }),\n      frameRate: 24,\n      repeat: -1\n    });\n\n    context.anims.create({\n      key: "block",\n      frames: context.anims.generateFrameNumbers("blocking", { start: 0, end: 6 }),\n      frameRate: 24\n    });\n  }\n});\n// CONCATENATED MODULE: ./src/state.js\n// game state constructor\n\n\nconst State = function () {\n  this.id = "";\n  this.x = 200;\n  this.y = 200;\n  this.attackTimer = null;\n  this.initialOtherPlayers = [];\n  this.otherPlayers = {};\n  this.player = {};\n  this.myPlayer = {};\n  this.moving = false;\n  this.attack = false;\n  this.block = false;\n  this.disableInput = false;\n  this.knockback = null;\n  this.keys = {};\n\n  this.updatePosition = (x, y) => {\n    this.x = x;\n    this.y = y;\n  };\n\n  this.initialize = context => {\n    this.initializePlayer(context);\n    this.initializeOtherPlayers(context);\n  };\n\n  this.initializePlayer = (context, socket) => {\n    this.player = context.physics.add.group({\n      classType: Player,\n      maxSize: 1,\n      collideWorldBounds: true\n    });\n\n    this.myPlayer = this.player.get();\n\n    socket.emit("create player", {\n      x: self.x,\n      y: self.y,\n      id: socket.id\n    });\n  };\n\n  this.initializeOtherPlayers = context => {\n    this.otherPlayers = context.physics.add.group({\n      classType: Player,\n      maxSize: 100,\n      bounceX: 1,\n      collideWorldBounds: true\n    });\n  };\n};\n// CONCATENATED MODULE: ./src/socketController.js\nconst SocketListeners = function (socket, state) {\n  socket.on("create player", function (player) {\n    if (player.id !== state.myPlayer.id) {\n      console.log(\'creating player\', player.id);\n      var otherPlayer = state.otherPlayers.get();\n      if (otherPlayer) {\n        otherPlayer.anims.play("idle");\n        otherPlayer.setInitialPosition(player.x, player.y, player.id);\n      }\n    }\n  });\n\n  socket.on("delete player", function (deletedPlayerID) {\n    if (deletedPlayerID !== state.id) {\n      var thisOne = state.otherPlayers.getChildren().find(function (element) {\n        return element.id === deletedPlayerID;\n      });\n      thisOne.destroy();\n    }\n  });\n\n  socket.on("update", function (player) {\n    var moving = false;\n    if (player.id !== state.id) {\n      var thisOne = state.otherPlayers.getChildren().find(function (element) {\n        return element.id === player.id;\n      });\n      if (typeof thisOne !== "undefined") {\n        if (thisOne.x !== player.x || thisOne.y !== player.y) {\n          thisOne.setPosition(player.x, player.y);\n          moving = true;\n        }\n\n        if (player.attacking) {\n          thisOne.setAnimation("slash");\n          thisOne.attacking = true;\n        } else if (player.blocking) {\n          thisOne.setAnimation("block");\n          thisOne.blocking = true;\n        } else if (moving) {\n          thisOne.attacking = false;\n          thisOne.blocking = false;\n          thisOne.setAnimation("walk");\n        } else {\n          thisOne.attacking = false;\n          thisOne.blocking = false;\n          thisOne.setAnimation("idle");\n        }\n\n        if (thisOne.flipState !== player.flipState) {\n          thisOne.flipState = player.flipState;\n          thisOne.toggleFlipX();\n        }\n      }\n    }\n  });\n\n  socket.on("attack", function (player) {});\n};\n// CONCATENATED MODULE: ./src/Maps/tryHardMap.js\nconst tryHardmap = {\n  create: context => {\n    context.map = context.make.tilemap({ key: "map" });\n    context.mainTileSet = context.map.addTilesetImage("blue_generic");\n    context.BackgroundTileSet = context.map.addTilesetImage("blue_generic");\n    context.image_backgroundTileSet = context.map.addTilesetImage("background");\n    context.image_backgroundLayer = context.map.createDynamicLayer("image_background", context.image_backgroundTileSet, 0, 0);\n    context.BackgroundLayer = context.map.createDynamicLayer("Background", context.BackgroundTileSet, 0, 0);\n    context.mainLayer = context.map.createDynamicLayer("MAIN", context.mainTileSet, 0, 0);\n\n    context.mainLayer.setCollisionByExclusion([-1]);\n\n    // bounds\n    context.physics.world.bounds.width = context.mainLayer.width;\n    context.physics.world.bounds.height = context.mainLayer.height;\n  }\n};\n// CONCATENATED MODULE: ./src/index.js\n// import "phaser";\n// import "./socketController";\n\n\n\n\n\n\nvar config = {\n  type: Phaser.AUTO,\n  parent: "phaser-example",\n  width: 400,\n  height: 300,\n  physics: {\n    default: "arcade",\n    arcade: {\n      gravity: { y: 300 },\n      debug: true\n    }\n  },\n  scene: {\n    preload: preload,\n    create: create,\n    update: update\n  }\n};\n\nvar game = new Phaser.Game(config);\nvar state = new State();\nvar _this;\nvar src_socket = io();\nsrc_socket.on("connect", function (initialData) {\n  state.id = src_socket.id;\n  console.log(state.id);\n});\n\n/**\r\n * THIS IS THE PRE-LOAD FUNCTION\r\n */\nfunction preload() {\n  knightAnimations.load(this);\n\n  // load mapthis.load.tilemapTiledJSON("test2", "assets/testmap.json");\n  this.load.tilemapTiledJSON("map", "assets/map/tryhard.json");\n  this.load.spritesheet("background", "assets/map/assets/background.png", {\n    frameWidth: 8,\n    frameHeight: 8\n  });\n  this.load.spritesheet("blue_generic", "assets/map/assets/blue_generic.png", {\n    frameWidth: 8,\n    frameHeight: 8\n  });\n}\n\n/**\r\n * THIS IS THE CREATE FUNCTION\r\n */\nfunction create() {\n  _this = this;\n  /** Create MAP */\n  tryHardmap.create(this);\n\n  // animations\n  knightAnimations.create(this);\n\n  // Initialize Player\n  state.initializePlayer(this, src_socket);\n\n  // establish camera\n  this.cameras.main.setBounds(0, 0, this.map.widthInPixels, this.map.heightInPixels);\n\n  // state.myPlayer = state.player.get();\n  this.physics.add.collider(state.myPlayer, this.mainLayer);\n  this.cameras.main.startFollow(state.myPlayer);\n\n  if (state.myPlayer) {\n    state.myPlayer.play("idle");\n    state.myPlayer.setInitialPosition(state.x, state.y, src_socket.id);\n\n    setKnockBackTween();\n  }\n\n  // Initialize Other Players\n  state.initializeOtherPlayers(this, src_socket);\n  this.physics.add.collider(state.otherPlayers, this.mainLayer);\n\n  getInitialPlayers();\n\n  // key listeners\n  state.keys.W = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W);\n  state.keys.A = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A);\n  state.keys.S = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S);\n  state.keys.D = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D);\n  this.input.on("pointerdown", pointer => {\n    if (pointer.buttons === 1) {\n      state.myPlayer.attacking = true;\n      src_socket.emit("attack", { id: state.myPlayer.id });\n    } else if (pointer.buttons === 2) {\n      state.myPlayer.blocking = true;\n      src_socket.emit("block", { id: state.myPlayer.id });\n    }\n  });\n\n  this.input.on("pointerup", function (pointer) {\n    state.myPlayer.attacking = false;\n    state.myPlayer.blocking = false;\n    src_socket.emit("block release", { id: state.myPlayer.id });\n    src_socket.emit("attack release", { id: state.myPlayer.id });\n  });\n\n  this.physics.add.overlap(state.myPlayer, state.otherPlayers, playerCollision);\n\n  SocketListeners(src_socket, state);\n}\n\n/**\r\n * THIS IS THE UPDATE FUNCTION\r\n */\n\nfunction update(time, delta) {\n  state.myPlayer.moving = false;\n\n  // keyboard listeners\n  if (state.keys.A.isDown) {\n    state.player.setVelocityX(-160);\n    state.myPlayer.flip(true, src_socket);\n    state.myPlayer.moving = true;\n  } else if (state.keys.D.isDown) {\n    state.player.setVelocityX(160);\n    state.myPlayer.flip(false, src_socket);\n    state.myPlayer.moving = true;\n  } else {\n    state.player.setVelocityX(0);\n  }\n  // Jump\n  if (state.keys.W.isDown && state.myPlayer.body.onFloor()) {\n    state.player.setVelocityY(-250);\n  }\n\n  state.myPlayer.update();\n  src_socket.emit("move player", {\n    x: state.myPlayer.x,\n    y: state.myPlayer.y,\n    id: state.myPlayer.id\n  });\n}\n\nfunction getInitialPlayers() {\n  var request = new XMLHttpRequest();\n  request.open("GET", "/initialize", false);\n  request.send(null);\n\n  if (request.status === 200) {\n    state.initialOtherPlayers = JSON.parse(request.response);\n\n    for (var key in state.initialOtherPlayers) {\n      if (key !== state.id) {\n        var otherPlayer = state.otherPlayers.get();\n        if (otherPlayer) {\n          otherPlayer.anims.play("idle");\n          otherPlayer.setInitialPosition(state.initialOtherPlayers[key].x, state.initialOtherPlayers[key].y, key);\n        }\n      }\n    }\n  }\n}\n\nfunction playerCollision(player, otherPlayer) {\n  if (!player.injured) {\n    if (otherPlayer.attacking && !player.blocking) {\n      console.log("knocback");\n      player.health -= 10;\n      if (otherPlayer.flipState) {\n        state.myPlayer.knockbackDistance = -50;\n        state.knockback.play();\n        console.log("knockback");\n      } else {\n        state.myPlayer.knockbackDistance = 50;\n        state.knockback.play();\n      }\n      player.injured = true;\n      setTimeout(() => {\n        player.injured = false;\n      }, 1000);\n      //hit detected\n    } else if (otherPlayer.attacking && player.blocking) {\n      //blocked\n    }\n  }\n}\n\nfunction setKnockBackTween(tween, targets, myImage) {\n  state.knockback = _this.tweens.add({\n    targets: state.myPlayer,\n    x: {\n      value: () => state.myPlayer.x + state.myPlayer.knockbackDistance,\n      ease: "Power1"\n    },\n    duration: 500,\n    paused: true,\n    onComplete: setKnockBackTween\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvR2FtZU9iamVjdHMvUGxheWVyLmpzPzg0YzYiLCJ3ZWJwYWNrOi8vLy4vc3JjL0FuaW1hdGlvbnMva25pZ2h0QW5pbWF0aW9ucy5qcz8zMTc4Iiwid2VicGFjazovLy8uL3NyYy9zdGF0ZS5qcz9mYWFlIiwid2VicGFjazovLy8uL3NyYy9zb2NrZXRDb250cm9sbGVyLmpzP2NhMDYiLCJ3ZWJwYWNrOi8vLy4vc3JjL01hcHMvdHJ5SGFyZE1hcC5qcz9hYzJkIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcz9iNjM1Il0sIm5hbWVzIjpbIlBsYXllciIsIlBoYXNlciIsIkNsYXNzIiwiRXh0ZW5kcyIsIkdhbWVPYmplY3RzIiwiU3ByaXRlIiwiaW5pdGlhbGl6ZSIsInNjZW5lIiwiY2FsbCIsInNldEluaXRpYWxQb3NpdGlvbiIsIngiLCJ5IiwiaWQiLCJzZXRQb3NpdGlvbiIsInNldEFjdGl2ZSIsInNldFZpc2libGUiLCJrZXkiLCJoZWFsdGgiLCJrbm9ja0JhY2tEaXN0YW5jZSIsImZsaXBTdGF0ZSIsImF0dGFja2luZyIsImJsb2NraW5nIiwibW92aW5nIiwiaW5qdXJlZCIsInNldE5ld1Bvc2l0aW9uIiwic2V0QW5pbWF0aW9uIiwicGxheSIsInRha2VEYW1hZ2UiLCJkYW1hZ2UiLCJmbGlwIiwibmV3RmxpcFN0YXRlIiwic29ja2V0IiwidG9nZ2xlRmxpcFgiLCJlbWl0IiwidXBkYXRlQW5pbWF0aW9ucyIsInVwZGF0ZSIsIktuaWdodEFuaW1hdGlvbnMiLCJsb2FkIiwiY29udGV4dCIsInNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0IiwiZW5kRnJhbWUiLCJjcmVhdGUiLCJhbmltcyIsImZyYW1lcyIsImdlbmVyYXRlRnJhbWVOdW1iZXJzIiwic3RhcnQiLCJlbmQiLCJmcmFtZVJhdGUiLCJyZXBlYXQiLCJTdGF0ZSIsImF0dGFja1RpbWVyIiwiaW5pdGlhbE90aGVyUGxheWVycyIsIm90aGVyUGxheWVycyIsInBsYXllciIsIm15UGxheWVyIiwiYXR0YWNrIiwiYmxvY2siLCJkaXNhYmxlSW5wdXQiLCJrbm9ja2JhY2siLCJrZXlzIiwidXBkYXRlUG9zaXRpb24iLCJpbml0aWFsaXplUGxheWVyIiwiaW5pdGlhbGl6ZU90aGVyUGxheWVycyIsInBoeXNpY3MiLCJhZGQiLCJncm91cCIsImNsYXNzVHlwZSIsIm1heFNpemUiLCJjb2xsaWRlV29ybGRCb3VuZHMiLCJnZXQiLCJzZWxmIiwiYm91bmNlWCIsIlNvY2tldExpc3RlbmVycyIsInN0YXRlIiwib24iLCJjb25zb2xlIiwibG9nIiwib3RoZXJQbGF5ZXIiLCJkZWxldGVkUGxheWVySUQiLCJ0aGlzT25lIiwiZ2V0Q2hpbGRyZW4iLCJmaW5kIiwiZWxlbWVudCIsImRlc3Ryb3kiLCJ0cnlIYXJkbWFwIiwibWFwIiwibWFrZSIsInRpbGVtYXAiLCJtYWluVGlsZVNldCIsImFkZFRpbGVzZXRJbWFnZSIsIkJhY2tncm91bmRUaWxlU2V0IiwiaW1hZ2VfYmFja2dyb3VuZFRpbGVTZXQiLCJpbWFnZV9iYWNrZ3JvdW5kTGF5ZXIiLCJjcmVhdGVEeW5hbWljTGF5ZXIiLCJCYWNrZ3JvdW5kTGF5ZXIiLCJtYWluTGF5ZXIiLCJzZXRDb2xsaXNpb25CeUV4Y2x1c2lvbiIsIndvcmxkIiwiYm91bmRzIiwid2lkdGgiLCJoZWlnaHQiLCJjb25maWciLCJ0eXBlIiwiQVVUTyIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciLCJwcmVsb2FkIiwiZ2FtZSIsIkdhbWUiLCJfdGhpcyIsImlvIiwiaW5pdGlhbERhdGEiLCJ0aWxlbWFwVGlsZWRKU09OIiwiY2FtZXJhcyIsIm1haW4iLCJzZXRCb3VuZHMiLCJ3aWR0aEluUGl4ZWxzIiwiaGVpZ2h0SW5QaXhlbHMiLCJjb2xsaWRlciIsInN0YXJ0Rm9sbG93Iiwic2V0S25vY2tCYWNrVHdlZW4iLCJnZXRJbml0aWFsUGxheWVycyIsIlciLCJpbnB1dCIsImtleWJvYXJkIiwiYWRkS2V5IiwiSW5wdXQiLCJLZXlib2FyZCIsIktleUNvZGVzIiwiQSIsIlMiLCJEIiwicG9pbnRlciIsImJ1dHRvbnMiLCJvdmVybGFwIiwicGxheWVyQ29sbGlzaW9uIiwidGltZSIsImRlbHRhIiwiaXNEb3duIiwic2V0VmVsb2NpdHlYIiwiYm9keSIsIm9uRmxvb3IiLCJzZXRWZWxvY2l0eVkiLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2VuZCIsInN0YXR1cyIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlIiwia25vY2tiYWNrRGlzdGFuY2UiLCJzZXRUaW1lb3V0IiwidHdlZW4iLCJ0YXJnZXRzIiwibXlJbWFnZSIsInR3ZWVucyIsInZhbHVlIiwiZWFzZSIsImR1cmF0aW9uIiwicGF1c2VkIiwib25Db21wbGV0ZSJdLCJtYXBwaW5ncyI6Ijs7O0FBQU8sTUFBTUEsU0FBUyxJQUFJQyxPQUFPQyxLQUFYLENBQWlCO0FBQ3JDQyxXQUFTRixPQUFPRyxXQUFQLENBQW1CQyxNQURTOztBQUdyQ0MsY0FBWSxTQUFTTixNQUFULENBQWdCTyxLQUFoQixFQUF1QjtBQUNqQ04sV0FBT0csV0FBUCxDQUFtQkMsTUFBbkIsQ0FBMEJHLElBQTFCLENBQStCLElBQS9CLEVBQXFDRCxLQUFyQyxFQUE0QyxDQUE1QyxFQUErQyxDQUEvQyxFQUFrRCxTQUFsRDtBQUNELEdBTG9DOztBQU9yQ0Usc0JBQW9CLFVBQVNDLENBQVQsRUFBWUMsQ0FBWixFQUFlQyxFQUFmLEVBQW1CO0FBQ3JDLFNBQUtDLFdBQUwsQ0FBaUJILENBQWpCLEVBQW9CQyxDQUFwQjtBQUNBLFNBQUtHLFNBQUwsQ0FBZSxJQUFmO0FBQ0EsU0FBS0MsVUFBTCxDQUFnQixJQUFoQjtBQUNBLFNBQUtILEVBQUwsR0FBVUEsRUFBVjtBQUNBLFNBQUtJLEdBQUwsR0FBVyxNQUFYO0FBQ0EsU0FBS0MsTUFBTCxHQUFjLEdBQWQ7QUFDQSxTQUFLQyxpQkFBTCxHQUF5QixFQUF6QjtBQUNBLFNBQUtDLFNBQUwsR0FBaUIsS0FBakI7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eUJtQyxPQUFPbEMsUUFBcEMsRUFBOEM7QUFDbkQ7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsU0FBU3dHLGlCQUFULENBQTJCaUMsS0FBM0IsRUFBa0NDLE9BQWxDLEVBQTJDQyxPQUEzQyxFQUFvRDtBQUNsRHJGLFFBQU1mLFNBQU4sR0FBa0JzRCxNQUFNK0MsTUFBTixDQUFhL0YsR0FBYixDQUFpQjtBQUNqQzZGLGFBQVNwRixNQUFNbkIsUUFEa0I7QUFFakM5QyxPQUFHO0FBQ0R3SixhQUFPLE1BQU12RixNQUFNbkIsUUFBTixDQUFlOUMsQ0FBZixHQUFtQmlFLE1BQU1uQixRQUFOLENBQWVvRyxpQkFEOUM7QUFFRE8sWUFBTTtBQUZMLEtBRjhCO0FBTWpDQyxjQUFVLEdBTnVCO0FBT2pDQyxZQUFRLElBUHlCO0FBUWpDQyxnQkFBWXpDO0FBUnFCLEdBQWpCLENBQWxCO0FBVUQiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBQbGF5ZXIgPSBuZXcgUGhhc2VyLkNsYXNzKHtcclxuICBFeHRlbmRzOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlLFxyXG5cclxuICBpbml0aWFsaXplOiBmdW5jdGlvbiBQbGF5ZXIoc2NlbmUpIHtcclxuICAgIFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGUuY2FsbCh0aGlzLCBzY2VuZSwgMCwgMCwgXCJub3RoaW5nXCIpO1xyXG4gIH0sXHJcblxyXG4gIHNldEluaXRpYWxQb3NpdGlvbjogZnVuY3Rpb24oeCwgeSwgaWQpIHtcclxuICAgIHRoaXMuc2V0UG9zaXRpb24oeCwgeSk7XHJcbiAgICB0aGlzLnNldEFjdGl2ZSh0cnVlKTtcclxuICAgIHRoaXMuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIHRoaXMua2V5ID0gXCJpZGxlXCI7XHJcbiAgICB0aGlzLmhlYWx0aCA9IDEwMDtcclxuICAgIHRoaXMua25vY2tCYWNrRGlzdGFuY2UgPSA1MDtcclxuICAgIHRoaXMuZmxpcFN0YXRlID0gZmFsc2U7XHJcbiAgICB0aGlzLmF0dGFja2luZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5ibG9ja2luZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5tb3ZpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMuaW5qdXJlZCA9IGZhbHNlO1xyXG4gIH0sXHJcblxyXG4gIHNldE5ld1Bvc2l0aW9uOiBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICB0aGlzLnNldFBvc2l0aW9uKHgsIHkpO1xyXG4gIH0sXHJcblxyXG4gIHNldEFuaW1hdGlvbjogZnVuY3Rpb24oa2V5KSB7XHJcbiAgICBpZiAodGhpcy5rZXkgIT09IGtleSkge1xyXG4gICAgICB0aGlzLnBsYXkoa2V5KTtcclxuICAgICAgdGhpcy5rZXkgPSBrZXk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgdGFrZURhbWFnZTogZnVuY3Rpb24oZGFtYWdlKSB7XHJcbiAgICB0aGlzLmhlYWx0aCAtPSBkYW1hZ2U7XHJcbiAgfSxcclxuXHJcbiAgZmxpcDogZnVuY3Rpb24obmV3RmxpcFN0YXRlLCBzb2NrZXQpIHtcclxuICAgIGlmIChuZXdGbGlwU3RhdGUgIT09IHRoaXMuZmxpcFN0YXRlKSB7XHJcbiAgICAgIHRoaXMuZmxpcFN0YXRlID0gbmV3RmxpcFN0YXRlO1xyXG4gICAgICB0aGlzLnRvZ2dsZUZsaXBYKCk7XHJcbiAgICAgIHNvY2tldC5lbWl0KFwiZmxpcFwiLCB7IGlkOiB0aGlzLmlkLCBmbGlwU3RhdGU6IHRoaXMuZmxpcFN0YXRlIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHVwZGF0ZUFuaW1hdGlvbnM6IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMuYXR0YWNraW5nKSB7XHJcbiAgICAgIHRoaXMuc2V0QW5pbWF0aW9uKFwic2xhc2hcIik7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuYmxvY2tpbmcpIHtcclxuICAgICAgdGhpcy5zZXRBbmltYXRpb24oXCJibG9ja1wiKTtcclxuICAgICAgLy8gYmxvY2tDb2xsaWRlcihteVBsYXllcik7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMubW92aW5nKSB7XHJcbiAgICAgIHRoaXMuc2V0QW5pbWF0aW9uKFwid2Fsa1wiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2V0QW5pbWF0aW9uKFwiaWRsZVwiKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy51cGRhdGVBbmltYXRpb25zKCk7XHJcbiAgfVxyXG59KTtcclxuIiwibGV0IEtuaWdodEFuaW1hdGlvbnMgPSB7fTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEtuaWdodEFuaW1hdGlvbnMgPSB7XHJcbiAgICBsb2FkKGNvbnRleHQpe1xyXG4gICAgICAgIGNvbnRleHQubG9hZC5zcHJpdGVzaGVldChcImlkbGluZ1wiLCBcImFzc2V0cy9rbmlnaHQvaWRsZS5wbmdcIiwge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiA0MixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDQyLFxyXG4gICAgICAgICAgICBlbmRGcmFtZTogNFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBjb250ZXh0LmxvYWQuc3ByaXRlc2hlZXQoXCJ3YWxraW5nXCIsIFwiYXNzZXRzL2tuaWdodC93YWxrLnBuZ1wiLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDQyLFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogNDIsXHJcbiAgICAgICAgICAgIGVuZEZyYW1lOiA4XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGNvbnRleHQubG9hZC5zcHJpdGVzaGVldChcInNsYXNoaW5nXCIsIFwiYXNzZXRzL2tuaWdodC9zbGFzaC5wbmdcIiwge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiA0MixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDQyLFxyXG4gICAgICAgICAgICBlbmRGcmFtZTogMTBcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgY29udGV4dC5sb2FkLnNwcml0ZXNoZWV0KFwiYmxvY2tpbmdcIiwgXCJhc3NldHMva25pZ2h0L2Jsb2NrLnBuZ1wiLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDQyLFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogNDIsXHJcbiAgICAgICAgICAgIGVuZEZyYW1lOiA3XHJcbiAgICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgY3JlYXRlKGNvbnRleHQpe1xyXG4gICAgICAgIGNvbnRleHQuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBcImlkbGVcIixcclxuICAgICAgICAgICAgZnJhbWVzOiBjb250ZXh0LmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKFwiaWRsaW5nXCIsIHsgc3RhcnQ6IDAsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAgIGNvbnRleHQuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBcIndhbGtcIixcclxuICAgICAgICAgICAgZnJhbWVzOiBjb250ZXh0LmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKFwid2Fsa2luZ1wiLCB7IHN0YXJ0OiAwLCBlbmQ6IDcgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjQsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgY29udGV4dC5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IFwic2xhc2hcIixcclxuICAgICAgICAgICAgZnJhbWVzOiBjb250ZXh0LmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKFwic2xhc2hpbmdcIiwgeyBzdGFydDogMCwgZW5kOiA5IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDI0LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAgIGNvbnRleHQuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBcImJsb2NrXCIsXHJcbiAgICAgICAgICAgIGZyYW1lczogY29udGV4dC5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycyhcImJsb2NraW5nXCIsIHsgc3RhcnQ6IDAsIGVuZDogNiB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyNFxyXG4gICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsIi8vIGdhbWUgc3RhdGUgY29uc3RydWN0b3JcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vR2FtZU9iamVjdHMvUGxheWVyXCI7XHJcblxyXG5leHBvcnQgY29uc3QgU3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICB0aGlzLmlkID0gXCJcIjtcclxuICB0aGlzLnggPSAyMDA7XHJcbiAgdGhpcy55ID0gMjAwO1xyXG4gIHRoaXMuYXR0YWNrVGltZXIgPSBudWxsO1xyXG4gIHRoaXMuaW5pdGlhbE90aGVyUGxheWVycyA9IFtdO1xyXG4gIHRoaXMub3RoZXJQbGF5ZXJzID0ge307XHJcbiAgdGhpcy5wbGF5ZXIgPSB7fTtcclxuICB0aGlzLm15UGxheWVyID0ge307XHJcbiAgdGhpcy5tb3ZpbmcgPSBmYWxzZTtcclxuICB0aGlzLmF0dGFjayA9IGZhbHNlO1xyXG4gIHRoaXMuYmxvY2sgPSBmYWxzZTtcclxuICB0aGlzLmRpc2FibGVJbnB1dCA9IGZhbHNlO1xyXG4gIHRoaXMua25vY2tiYWNrID0gbnVsbDtcclxuICB0aGlzLmtleXMgPSB7fTtcclxuXHJcbiAgdGhpcy51cGRhdGVQb3NpdGlvbiA9ICh4LCB5KSA9PiB7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuICB9O1xyXG5cclxuICB0aGlzLmluaXRpYWxpemUgPSAoY29udGV4dCkgPT4ge1xyXG4gICAgdGhpcy5pbml0aWFsaXplUGxheWVyKGNvbnRleHQpO1xyXG4gICAgdGhpcy5pbml0aWFsaXplT3RoZXJQbGF5ZXJzKGNvbnRleHQpO1xyXG4gIH1cclxuXHJcbiAgdGhpcy5pbml0aWFsaXplUGxheWVyID0gKGNvbnRleHQsIHNvY2tldCkgPT4ge1xyXG4gICAgdGhpcy5wbGF5ZXIgPSBjb250ZXh0LnBoeXNpY3MuYWRkLmdyb3VwKHtcclxuICAgICAgY2xhc3NUeXBlOiBQbGF5ZXIsXHJcbiAgICAgIG1heFNpemU6IDEsXHJcbiAgICAgIGNvbGxpZGVXb3JsZEJvdW5kczogdHJ1ZVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5teVBsYXllcj10aGlzLnBsYXllci5nZXQoKTtcclxuXHJcbiAgICBzb2NrZXQuZW1pdChcImNyZWF0ZSBwbGF5ZXJcIiwge1xyXG4gICAgICB4OiBzZWxmLngsXHJcbiAgICAgIHk6IHNlbGYueSxcclxuICAgICAgaWQ6IHNvY2tldC5pZFxyXG4gICAgfSk7XHJcblxyXG5cclxuICB9O1xyXG5cclxuICB0aGlzLmluaXRpYWxpemVPdGhlclBsYXllcnMgPSBjb250ZXh0ID0+IHtcclxuICAgIHRoaXMub3RoZXJQbGF5ZXJzID0gY29udGV4dC5waHlzaWNzLmFkZC5ncm91cCh7XHJcbiAgICAgIGNsYXNzVHlwZTogUGxheWVyLFxyXG4gICAgICBtYXhTaXplOiAxMDAsXHJcbiAgICAgIGJvdW5jZVg6IDEsXHJcbiAgICAgIGNvbGxpZGVXb3JsZEJvdW5kczogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgU29ja2V0TGlzdGVuZXJzID0gZnVuY3Rpb24oc29ja2V0LCBzdGF0ZSkge1xyXG4gIHNvY2tldC5vbihcImNyZWF0ZSBwbGF5ZXJcIiwgZnVuY3Rpb24ocGxheWVyKSB7XHJcbiAgICBpZiAocGxheWVyLmlkICE9PSBzdGF0ZS5teVBsYXllci5pZCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnY3JlYXRpbmcgcGxheWVyJywgcGxheWVyLmlkKTtcclxuICAgICAgdmFyIG90aGVyUGxheWVyID0gc3RhdGUub3RoZXJQbGF5ZXJzLmdldCgpO1xyXG4gICAgICBpZiAob3RoZXJQbGF5ZXIpIHtcclxuICAgICAgICBvdGhlclBsYXllci5hbmltcy5wbGF5KFwiaWRsZVwiKTtcclxuICAgICAgICBvdGhlclBsYXllci5zZXRJbml0aWFsUG9zaXRpb24ocGxheWVyLngsIHBsYXllci55LCBwbGF5ZXIuaWQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHNvY2tldC5vbihcImRlbGV0ZSBwbGF5ZXJcIiwgZnVuY3Rpb24oZGVsZXRlZFBsYXllcklEKSB7XHJcbiAgICBpZiAoZGVsZXRlZFBsYXllcklEICE9PSBzdGF0ZS5pZCkge1xyXG4gICAgICB2YXIgdGhpc09uZSA9IHN0YXRlLm90aGVyUGxheWVycy5nZXRDaGlsZHJlbigpLmZpbmQoZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICAgIHJldHVybiBlbGVtZW50LmlkID09PSBkZWxldGVkUGxheWVySUQ7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzT25lLmRlc3Ryb3koKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgc29ja2V0Lm9uKFwidXBkYXRlXCIsIGZ1bmN0aW9uKHBsYXllcikge1xyXG4gICAgdmFyIG1vdmluZyA9IGZhbHNlO1xyXG4gICAgaWYgKHBsYXllci5pZCAhPT0gc3RhdGUuaWQpIHtcclxuICAgICAgdmFyIHRoaXNPbmUgPSBzdGF0ZS5vdGhlclBsYXllcnMuZ2V0Q2hpbGRyZW4oKS5maW5kKGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gZWxlbWVudC5pZCA9PT0gcGxheWVyLmlkO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHR5cGVvZiB0aGlzT25lICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgaWYgKHRoaXNPbmUueCAhPT0gcGxheWVyLnggfHwgdGhpc09uZS55ICE9PSBwbGF5ZXIueSkge1xyXG4gICAgICAgICAgdGhpc09uZS5zZXRQb3NpdGlvbihwbGF5ZXIueCwgcGxheWVyLnkpO1xyXG4gICAgICAgICAgbW92aW5nID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwbGF5ZXIuYXR0YWNraW5nKSB7XHJcbiAgICAgICAgICB0aGlzT25lLnNldEFuaW1hdGlvbihcInNsYXNoXCIpO1xyXG4gICAgICAgICAgdGhpc09uZS5hdHRhY2tpbmcgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocGxheWVyLmJsb2NraW5nKSB7XHJcbiAgICAgICAgICB0aGlzT25lLnNldEFuaW1hdGlvbihcImJsb2NrXCIpO1xyXG4gICAgICAgICAgdGhpc09uZS5ibG9ja2luZyA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtb3ZpbmcpIHtcclxuICAgICAgICAgIHRoaXNPbmUuYXR0YWNraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzT25lLmJsb2NraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzT25lLnNldEFuaW1hdGlvbihcIndhbGtcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXNPbmUuYXR0YWNraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzT25lLmJsb2NraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzT25lLnNldEFuaW1hdGlvbihcImlkbGVcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpc09uZS5mbGlwU3RhdGUgIT09IHBsYXllci5mbGlwU3RhdGUpIHtcclxuICAgICAgICAgIHRoaXNPbmUuZmxpcFN0YXRlID0gcGxheWVyLmZsaXBTdGF0ZTtcclxuICAgICAgICAgIHRoaXNPbmUudG9nZ2xlRmxpcFgoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgc29ja2V0Lm9uKFwiYXR0YWNrXCIsIGZ1bmN0aW9uKHBsYXllcikge30pO1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgdHJ5SGFyZG1hcCA9IHtcclxuICAgIGNyZWF0ZTogKGNvbnRleHQpID0+IHtcclxuICAgICAgICBjb250ZXh0Lm1hcCA9IGNvbnRleHQubWFrZS50aWxlbWFwKHsga2V5OiBcIm1hcFwiIH0pO1xyXG4gICAgICAgIGNvbnRleHQubWFpblRpbGVTZXQgPSBjb250ZXh0Lm1hcC5hZGRUaWxlc2V0SW1hZ2UoXCJibHVlX2dlbmVyaWNcIik7XHJcbiAgICAgICAgY29udGV4dC5CYWNrZ3JvdW5kVGlsZVNldCA9IGNvbnRleHQubWFwLmFkZFRpbGVzZXRJbWFnZShcImJsdWVfZ2VuZXJpY1wiKTtcclxuICAgICAgICBjb250ZXh0LmltYWdlX2JhY2tncm91bmRUaWxlU2V0ID0gY29udGV4dC5tYXAuYWRkVGlsZXNldEltYWdlKFwiYmFja2dyb3VuZFwiKTtcclxuICAgICAgICBjb250ZXh0LmltYWdlX2JhY2tncm91bmRMYXllciA9IGNvbnRleHQubWFwLmNyZWF0ZUR5bmFtaWNMYXllcihcclxuICAgICAgICAgIFwiaW1hZ2VfYmFja2dyb3VuZFwiLFxyXG4gICAgICAgICAgY29udGV4dC5pbWFnZV9iYWNrZ3JvdW5kVGlsZVNldCxcclxuICAgICAgICAgIDAsXHJcbiAgICAgICAgICAwXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb250ZXh0LkJhY2tncm91bmRMYXllciA9IGNvbnRleHQubWFwLmNyZWF0ZUR5bmFtaWNMYXllcihcclxuICAgICAgICAgIFwiQmFja2dyb3VuZFwiLFxyXG4gICAgICAgICAgY29udGV4dC5CYWNrZ3JvdW5kVGlsZVNldCxcclxuICAgICAgICAgIDAsXHJcbiAgICAgICAgICAwXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb250ZXh0Lm1haW5MYXllciA9IGNvbnRleHQubWFwLmNyZWF0ZUR5bmFtaWNMYXllcihcIk1BSU5cIiwgY29udGV4dC5tYWluVGlsZVNldCwgMCwgMCk7XHJcbiAgICAgIFxyXG4gICAgICAgIGNvbnRleHQubWFpbkxheWVyLnNldENvbGxpc2lvbkJ5RXhjbHVzaW9uKFstMV0pO1xyXG4gICAgICBcclxuICAgICAgICAvLyBib3VuZHNcclxuICAgICAgICBjb250ZXh0LnBoeXNpY3Mud29ybGQuYm91bmRzLndpZHRoID0gY29udGV4dC5tYWluTGF5ZXIud2lkdGg7XHJcbiAgICAgICAgY29udGV4dC5waHlzaWNzLndvcmxkLmJvdW5kcy5oZWlnaHQgPSBjb250ZXh0Lm1haW5MYXllci5oZWlnaHQ7XHJcbiAgICB9XHJcbn0iLCIvLyBpbXBvcnQgXCJwaGFzZXJcIjtcclxuLy8gaW1wb3J0IFwiLi9zb2NrZXRDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL0dhbWVPYmplY3RzL1BsYXllclwiO1xyXG5pbXBvcnQgIEtuaWdodEFuaW1hdGlvbnMgIGZyb20gJy4vQW5pbWF0aW9ucy9rbmlnaHRBbmltYXRpb25zJztcclxuaW1wb3J0IHsgU3RhdGUgfSBmcm9tIFwiLi9zdGF0ZVwiO1xyXG5pbXBvcnQgeyBTb2NrZXRMaXN0ZW5lcnMgfSBmcm9tIFwiLi9zb2NrZXRDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7IHRyeUhhcmRtYXAgfSBmcm9tIFwiLi9NYXBzL3RyeUhhcmRNYXBcIjtcclxuXHJcbnZhciBjb25maWcgPSB7XHJcbiAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgcGFyZW50OiBcInBoYXNlci1leGFtcGxlXCIsXHJcbiAgd2lkdGg6IDQwMCxcclxuICBoZWlnaHQ6IDMwMCxcclxuICBwaHlzaWNzOiB7XHJcbiAgICBkZWZhdWx0OiBcImFyY2FkZVwiLFxyXG4gICAgYXJjYWRlOiB7XHJcbiAgICAgIGdyYXZpdHk6IHsgeTogMzAwIH0sXHJcbiAgICAgIGRlYnVnOiB0cnVlXHJcbiAgICB9XHJcbiAgfSxcclxuICBzY2VuZToge1xyXG4gICAgcHJlbG9hZDogcHJlbG9hZCxcclxuICAgIGNyZWF0ZTogY3JlYXRlLFxyXG4gICAgdXBkYXRlOiB1cGRhdGVcclxuICB9XHJcbn07XHJcblxyXG52YXIgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZShjb25maWcpO1xyXG52YXIgc3RhdGUgPSBuZXcgU3RhdGUoKTtcclxudmFyIF90aGlzO1xyXG52YXIgc29ja2V0ID0gaW8oKTtcclxuc29ja2V0Lm9uKFwiY29ubmVjdFwiLCBmdW5jdGlvbihpbml0aWFsRGF0YSkge1xyXG4gIHN0YXRlLmlkID0gc29ja2V0LmlkO1xyXG4gIGNvbnNvbGUubG9nKHN0YXRlLmlkKTtcclxufSk7XHJcblxyXG4vKipcclxuICogVEhJUyBJUyBUSEUgUFJFLUxPQUQgRlVOQ1RJT05cclxuICovXHJcbmZ1bmN0aW9uIHByZWxvYWQoKSB7XHJcbiAgS25pZ2h0QW5pbWF0aW9ucy5sb2FkKHRoaXMpO1xyXG5cclxuICAvLyBsb2FkIG1hcHRoaXMubG9hZC50aWxlbWFwVGlsZWRKU09OKFwidGVzdDJcIiwgXCJhc3NldHMvdGVzdG1hcC5qc29uXCIpO1xyXG4gIHRoaXMubG9hZC50aWxlbWFwVGlsZWRKU09OKFwibWFwXCIsIFwiYXNzZXRzL21hcC90cnloYXJkLmpzb25cIik7XHJcbiAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFwiYmFja2dyb3VuZFwiLCBcImFzc2V0cy9tYXAvYXNzZXRzL2JhY2tncm91bmQucG5nXCIsIHtcclxuICAgIGZyYW1lV2lkdGg6IDgsXHJcbiAgICBmcmFtZUhlaWdodDogOFxyXG4gIH0pO1xyXG4gIHRoaXMubG9hZC5zcHJpdGVzaGVldChcImJsdWVfZ2VuZXJpY1wiLCBcImFzc2V0cy9tYXAvYXNzZXRzL2JsdWVfZ2VuZXJpYy5wbmdcIiwge1xyXG4gICAgZnJhbWVXaWR0aDogOCxcclxuICAgIGZyYW1lSGVpZ2h0OiA4XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUSElTIElTIFRIRSBDUkVBVEUgRlVOQ1RJT05cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZSgpIHtcclxuICBfdGhpcyA9IHRoaXM7XHJcbiAgLyoqIENyZWF0ZSBNQVAgKi9cclxuICB0cnlIYXJkbWFwLmNyZWF0ZSh0aGlzKTtcclxuXHJcbiAgLy8gYW5pbWF0aW9uc1xyXG4gIEtuaWdodEFuaW1hdGlvbnMuY3JlYXRlKHRoaXMpO1xyXG5cclxuICAvLyBJbml0aWFsaXplIFBsYXllclxyXG4gIHN0YXRlLmluaXRpYWxpemVQbGF5ZXIodGhpcywgc29ja2V0KTtcclxuXHJcbiAgLy8gZXN0YWJsaXNoIGNhbWVyYVxyXG4gIHRoaXMuY2FtZXJhcy5tYWluLnNldEJvdW5kcyhcclxuICAgIDAsXHJcbiAgICAwLFxyXG4gICAgdGhpcy5tYXAud2lkdGhJblBpeGVscyxcclxuICAgIHRoaXMubWFwLmhlaWdodEluUGl4ZWxzXHJcbiAgKTtcclxuXHJcbiAgLy8gc3RhdGUubXlQbGF5ZXIgPSBzdGF0ZS5wbGF5ZXIuZ2V0KCk7XHJcbiAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihzdGF0ZS5teVBsYXllciwgdGhpcy5tYWluTGF5ZXIpO1xyXG4gIHRoaXMuY2FtZXJhcy5tYWluLnN0YXJ0Rm9sbG93KHN0YXRlLm15UGxheWVyKTtcclxuXHJcbiAgaWYgKHN0YXRlLm15UGxheWVyKSB7XHJcbiAgICBzdGF0ZS5teVBsYXllci5wbGF5KFwiaWRsZVwiKTtcclxuICAgIHN0YXRlLm15UGxheWVyLnNldEluaXRpYWxQb3NpdGlvbihzdGF0ZS54LCBzdGF0ZS55LCBzb2NrZXQuaWQpO1xyXG5cclxuICAgIHNldEtub2NrQmFja1R3ZWVuKCk7XHJcbiAgfVxyXG5cclxuICAvLyBJbml0aWFsaXplIE90aGVyIFBsYXllcnNcclxuICBzdGF0ZS5pbml0aWFsaXplT3RoZXJQbGF5ZXJzKHRoaXMsIHNvY2tldCk7XHJcbiAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihzdGF0ZS5vdGhlclBsYXllcnMsIHRoaXMubWFpbkxheWVyKTtcclxuXHJcbiAgZ2V0SW5pdGlhbFBsYXllcnMoKTtcclxuXHJcbiAgLy8ga2V5IGxpc3RlbmVyc1xyXG4gIHN0YXRlLmtleXMuVyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5XKTtcclxuICBzdGF0ZS5rZXlzLkEgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuQSk7XHJcbiAgc3RhdGUua2V5cy5TID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLlMpO1xyXG4gIHN0YXRlLmtleXMuRCA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5EKTtcclxuICB0aGlzLmlucHV0Lm9uKFwicG9pbnRlcmRvd25cIiwgcG9pbnRlciA9PiB7XHJcbiAgICBpZiAocG9pbnRlci5idXR0b25zID09PSAxKSB7XHJcbiAgICAgIHN0YXRlLm15UGxheWVyLmF0dGFja2luZyA9IHRydWU7XHJcbiAgICAgIHNvY2tldC5lbWl0KFwiYXR0YWNrXCIsIHsgaWQ6IHN0YXRlLm15UGxheWVyLmlkIH0pO1xyXG4gICAgfSBlbHNlIGlmIChwb2ludGVyLmJ1dHRvbnMgPT09IDIpIHtcclxuICAgICAgc3RhdGUubXlQbGF5ZXIuYmxvY2tpbmcgPSB0cnVlO1xyXG4gICAgICBzb2NrZXQuZW1pdChcImJsb2NrXCIsIHsgaWQ6IHN0YXRlLm15UGxheWVyLmlkIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB0aGlzLmlucHV0Lm9uKFwicG9pbnRlcnVwXCIsIGZ1bmN0aW9uKHBvaW50ZXIpIHtcclxuICAgIHN0YXRlLm15UGxheWVyLmF0dGFja2luZyA9IGZhbHNlO1xyXG4gICAgc3RhdGUubXlQbGF5ZXIuYmxvY2tpbmcgPSBmYWxzZTtcclxuICAgIHNvY2tldC5lbWl0KFwiYmxvY2sgcmVsZWFzZVwiLCB7IGlkOiBzdGF0ZS5teVBsYXllci5pZCB9KTtcclxuICAgIHNvY2tldC5lbWl0KFwiYXR0YWNrIHJlbGVhc2VcIiwgeyBpZDogc3RhdGUubXlQbGF5ZXIuaWQgfSk7XHJcbiAgfSk7XHJcblxyXG4gIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChzdGF0ZS5teVBsYXllciwgc3RhdGUub3RoZXJQbGF5ZXJzLCBwbGF5ZXJDb2xsaXNpb24pO1xyXG5cclxuXHJcbiAgU29ja2V0TGlzdGVuZXJzKHNvY2tldCwgc3RhdGUpO1xyXG59XHJcblxyXG4vKipcclxuICogVEhJUyBJUyBUSEUgVVBEQVRFIEZVTkNUSU9OXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlKHRpbWUsIGRlbHRhKSB7XHJcbiAgc3RhdGUubXlQbGF5ZXIubW92aW5nID0gZmFsc2U7XHJcblxyXG4gIC8vIGtleWJvYXJkIGxpc3RlbmVyc1xyXG4gIGlmIChzdGF0ZS5rZXlzLkEuaXNEb3duKSB7XHJcbiAgICBzdGF0ZS5wbGF5ZXIuc2V0VmVsb2NpdHlYKC0xNjApO1xyXG4gICAgc3RhdGUubXlQbGF5ZXIuZmxpcCh0cnVlLCBzb2NrZXQpO1xyXG4gICAgc3RhdGUubXlQbGF5ZXIubW92aW5nID0gdHJ1ZTtcclxuICB9IGVsc2UgaWYgKHN0YXRlLmtleXMuRC5pc0Rvd24pIHtcclxuICAgIHN0YXRlLnBsYXllci5zZXRWZWxvY2l0eVgoMTYwKTtcclxuICAgIHN0YXRlLm15UGxheWVyLmZsaXAoZmFsc2UsIHNvY2tldCk7XHJcbiAgICBzdGF0ZS5teVBsYXllci5tb3ZpbmcgPSB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzdGF0ZS5wbGF5ZXIuc2V0VmVsb2NpdHlYKDApO1xyXG4gIH1cclxuICAvLyBKdW1wXHJcbiAgaWYgKHN0YXRlLmtleXMuVy5pc0Rvd24gJiYgc3RhdGUubXlQbGF5ZXIuYm9keS5vbkZsb29yKCkpIHtcclxuICAgIHN0YXRlLnBsYXllci5zZXRWZWxvY2l0eVkoLTI1MCk7XHJcbiAgfVxyXG5cclxuICBzdGF0ZS5teVBsYXllci51cGRhdGUoKTtcclxuICBzb2NrZXQuZW1pdChcIm1vdmUgcGxheWVyXCIsIHtcclxuICAgIHg6IHN0YXRlLm15UGxheWVyLngsXHJcbiAgICB5OiBzdGF0ZS5teVBsYXllci55LFxyXG4gICAgaWQ6IHN0YXRlLm15UGxheWVyLmlkXHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEluaXRpYWxQbGF5ZXJzKCkge1xyXG4gIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgcmVxdWVzdC5vcGVuKFwiR0VUXCIsIFwiL2luaXRpYWxpemVcIiwgZmFsc2UpO1xyXG4gIHJlcXVlc3Quc2VuZChudWxsKTtcclxuXHJcbiAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAyMDApIHtcclxuICAgIHN0YXRlLmluaXRpYWxPdGhlclBsYXllcnMgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2UpO1xyXG5cclxuICAgIGZvciAodmFyIGtleSBpbiBzdGF0ZS5pbml0aWFsT3RoZXJQbGF5ZXJzKSB7XHJcbiAgICAgIGlmIChrZXkgIT09IHN0YXRlLmlkKSB7XHJcbiAgICAgICAgdmFyIG90aGVyUGxheWVyID0gc3RhdGUub3RoZXJQbGF5ZXJzLmdldCgpO1xyXG4gICAgICAgIGlmIChvdGhlclBsYXllcikge1xyXG4gICAgICAgICAgb3RoZXJQbGF5ZXIuYW5pbXMucGxheShcImlkbGVcIik7XHJcbiAgICAgICAgICBvdGhlclBsYXllci5zZXRJbml0aWFsUG9zaXRpb24oXHJcbiAgICAgICAgICAgIHN0YXRlLmluaXRpYWxPdGhlclBsYXllcnNba2V5XS54LFxyXG4gICAgICAgICAgICBzdGF0ZS5pbml0aWFsT3RoZXJQbGF5ZXJzW2tleV0ueSxcclxuICAgICAgICAgICAga2V5XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcGxheWVyQ29sbGlzaW9uKHBsYXllciwgb3RoZXJQbGF5ZXIpIHtcclxuICBpZiAoIXBsYXllci5pbmp1cmVkKSB7XHJcbiAgICBpZiAob3RoZXJQbGF5ZXIuYXR0YWNraW5nICYmICFwbGF5ZXIuYmxvY2tpbmcpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJrbm9jYmFja1wiKTtcclxuICAgICAgcGxheWVyLmhlYWx0aCAtPSAxMDtcclxuICAgICAgaWYgKG90aGVyUGxheWVyLmZsaXBTdGF0ZSkge1xyXG4gICAgICAgIHN0YXRlLm15UGxheWVyLmtub2NrYmFja0Rpc3RhbmNlID0gLTUwO1xyXG4gICAgICAgIHN0YXRlLmtub2NrYmFjay5wbGF5KCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJrbm9ja2JhY2tcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RhdGUubXlQbGF5ZXIua25vY2tiYWNrRGlzdGFuY2UgPSA1MDtcclxuICAgICAgICBzdGF0ZS5rbm9ja2JhY2sucGxheSgpO1xyXG4gICAgICB9XHJcbiAgICAgIHBsYXllci5pbmp1cmVkID0gdHJ1ZTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgcGxheWVyLmluanVyZWQgPSBmYWxzZTtcclxuICAgICAgfSwgMTAwMCk7XHJcbiAgICAgIC8vaGl0IGRldGVjdGVkXHJcbiAgICB9IGVsc2UgaWYgKG90aGVyUGxheWVyLmF0dGFja2luZyAmJiBwbGF5ZXIuYmxvY2tpbmcpIHtcclxuICAgICAgLy9ibG9ja2VkXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRLbm9ja0JhY2tUd2Vlbih0d2VlbiwgdGFyZ2V0cywgbXlJbWFnZSkge1xyXG4gIHN0YXRlLmtub2NrYmFjayA9IF90aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgdGFyZ2V0czogc3RhdGUubXlQbGF5ZXIsXHJcbiAgICB4OiB7XHJcbiAgICAgIHZhbHVlOiAoKSA9PiBzdGF0ZS5teVBsYXllci54ICsgc3RhdGUubXlQbGF5ZXIua25vY2tiYWNrRGlzdGFuY2UsXHJcbiAgICAgIGVhc2U6IFwiUG93ZXIxXCJcclxuICAgIH0sXHJcbiAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgcGF1c2VkOiB0cnVlLFxyXG4gICAgb25Db21wbGV0ZTogc2V0S25vY2tCYWNrVHdlZW5cclxuICB9KTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n')}]);