!function(Q){var F={};function B(U){if(F[U])return F[U].exports;var I=F[U]={i:U,l:!1,exports:{}};return Q[U].call(I.exports,I,I.exports,B),I.l=!0,I.exports}B.m=Q,B.c=F,B.d=function(Q,F,U){B.o(Q,F)||Object.defineProperty(Q,F,{configurable:!1,enumerable:!0,get:U})},B.r=function(Q){Object.defineProperty(Q,"__esModule",{value:!0})},B.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return B.d(F,"a",F),F},B.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},B.p="/build/",B(B.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/socketController.js\nconst SocketController = function (socket) {\n  this.socket = socket;\n  this.initialize = state => {\n    this.socket.on("create player", function (player) {\n      if (player.id !== state.myPlayer.id) {\n        console.log(\'creating player\', player.id);\n        var otherPlayer = state.otherPlayers.get();\n        if (otherPlayer) {\n          otherPlayer.anims.play("idle");\n          otherPlayer.setInitialPosition(player.x, player.y, player.id);\n        }\n      }\n    });\n\n    this.socket.on("delete player", function (deletedPlayerID) {\n      if (deletedPlayerID !== state.id) {\n        var thisOne = state.otherPlayers.getChildren().find(function (element) {\n          return element.id === deletedPlayerID;\n        });\n        thisOne.destroy();\n      }\n    });\n\n    this.socket.on("connect", function (initialData) {\n      state.id = socket.id;\n      console.log(state.id);\n    });\n\n    this.socket.on("update", function (player) {\n      var moving = false;\n      if (player.id !== state.id) {\n        var thisOne = state.otherPlayers.getChildren().find(function (element) {\n          return element.id === player.id;\n        });\n        if (typeof thisOne !== "undefined") {\n          if (thisOne.x !== player.x || thisOne.y !== player.y) {\n            thisOne.setPosition(player.x, player.y);\n            moving = true;\n          }\n\n          if (player.attacking) {\n            thisOne.setAnimation("slash");\n            thisOne.attacking = true;\n          } else if (player.blocking) {\n            thisOne.setAnimation("block");\n            thisOne.blocking = true;\n          } else if (moving) {\n            thisOne.attacking = false;\n            thisOne.blocking = false;\n            thisOne.setAnimation("walk");\n          } else {\n            thisOne.attacking = false;\n            thisOne.blocking = false;\n            thisOne.setAnimation("idle");\n          }\n\n          if (thisOne.flipState !== player.flipState) {\n            thisOne.flipState = player.flipState;\n            thisOne.toggleFlipX();\n          }\n        }\n      }\n    });\n\n    this.socket.on("attack", function (player) {});\n  };\n};\n\n// export const SocketListeners = function(socket, state) {\n\n// };\n// CONCATENATED MODULE: ./src/Tweens/tweens.js\nvar tweensLibrary = {\n  setKnockBackTween: function (target) {\n    console.log(this);\n    target.knockback = this.tweens.add({\n      targets: target,\n      x: {\n        value: () => target.x + target.knockbackDistance,\n        ease: "Power1"\n      },\n      duration: 500,\n      paused: true,\n      onComplete: tweensLibrary.setKnockBackTween(target)\n    });\n  }\n};\n// CONCATENATED MODULE: ./src/GameObjects/Player.js\n\n\n\nconst Player_Player = new Phaser.Class({\n  Extends: Phaser.GameObjects.Sprite,\n\n  initialize: function Player(scene) {\n    Phaser.GameObjects.Sprite.call(this, scene, 0, 0, "nothing");\n\n    let setKnockBackTween = tweensLibrary.setKnockBackTween.bind(scene);\n    this.knockback = setKnockBackTween(this);\n  },\n\n  setInitialPosition: function (x, y, id) {\n    this.setPosition(x, y);\n    this.setActive(true);\n    this.setVisible(true);\n    this.id = id;\n    this.key = "idle";\n    this.health = 100;\n    this.knockBackDistance = 50;\n    this.flipState = false;\n    this.attacking = false;\n    this.blocking = false;\n    this.moving = false;\n    this.injured = false;\n  },\n\n  setNewPosition: function (x, y) {\n    this.setPosition(x, y);\n  },\n\n  setAnimation: function (key) {\n    if (this.key !== key) {\n      this.play(key);\n      this.key = key;\n    }\n  },\n\n  takeDamage: function (damage) {\n    this.health -= damage;\n  },\n\n  flip: function (newFlipState, socket) {\n    if (newFlipState !== this.flipState) {\n      this.flipState = newFlipState;\n      this.toggleFlipX();\n      socket.emit("flip", { id: this.id, flipState: this.flipState });\n    }\n  },\n\n  updateAnimations: function () {\n    if (this.attacking) {\n      this.setAnimation("slash");\n    } else if (this.blocking) {\n      this.setAnimation("block");\n      // blockCollider(myPlayer);\n    } else if (this.moving) {\n      this.setAnimation("walk");\n    } else {\n      this.setAnimation("idle");\n    }\n  },\n\n  updateServerWithPosition(socket) {\n    socket.emit("move player", {\n      x: this.x,\n      y: this.y,\n      id: this.id\n    });\n  },\n\n  update: function (socket) {\n    this.updateAnimations();\n    this.updateServerWithPosition(socket);\n  }\n});\n// CONCATENATED MODULE: ./src/Animations/knightAnimations.js\nlet KnightAnimations = {};\n\n/* harmony default export */ var knightAnimations = (KnightAnimations = {\n  load(context) {\n    context.load.spritesheet("idling", "assets/knight/idle.png", {\n      frameWidth: 42,\n      frameHeight: 42,\n      endFrame: 4\n    });\n    context.load.spritesheet("walking", "assets/knight/walk.png", {\n      frameWidth: 42,\n      frameHeight: 42,\n      endFrame: 8\n    });\n    context.load.spritesheet("slashing", "assets/knight/slash.png", {\n      frameWidth: 42,\n      frameHeight: 42,\n      endFrame: 10\n    });\n    context.load.spritesheet("blocking", "assets/knight/block.png", {\n      frameWidth: 42,\n      frameHeight: 42,\n      endFrame: 7\n    });\n  },\n\n  create(context) {\n    context.anims.create({\n      key: "idle",\n      frames: context.anims.generateFrameNumbers("idling", { start: 0, end: 3 }),\n      frameRate: 2,\n      repeat: -1\n    });\n\n    context.anims.create({\n      key: "walk",\n      frames: context.anims.generateFrameNumbers("walking", { start: 0, end: 7 }),\n      frameRate: 24,\n      repeat: -1\n    });\n\n    context.anims.create({\n      key: "slash",\n      frames: context.anims.generateFrameNumbers("slashing", { start: 0, end: 9 }),\n      frameRate: 24,\n      repeat: -1\n    });\n\n    context.anims.create({\n      key: "block",\n      frames: context.anims.generateFrameNumbers("blocking", { start: 0, end: 6 }),\n      frameRate: 24\n    });\n  }\n});\n// CONCATENATED MODULE: ./src/state.js\n// game state constructor\n\n\n\nconst State = function () {\n  this.id = "";\n  this.x = 200;\n  this.y = 200;\n  this.attackTimer = null;\n  this.initialOtherPlayers = [];\n  this.otherPlayers = {};\n  this.player = {};\n  this.myPlayer = {};\n  this.moving = false;\n  this.attack = false;\n  this.block = false;\n  this.disableInput = false;\n  this.knockback = null;\n  this.keys = {};\n\n  this.updatePosition = (x, y) => {\n    this.x = x;\n    this.y = y;\n  };\n\n  this.initialize = context => {\n    this.initializePlayer(context);\n    this.initializeOtherPlayers(context);\n  };\n\n  this.initializePlayer = (context, socket) => {\n    console.log(context);\n    let knockbacktween = tweensLibrary.setKnockBackTween.bind(context);\n    this.player = context.physics.add.group({\n      classType: Player_Player,\n      maxSize: 1,\n      collideWorldBounds: true\n    });\n\n    this.myPlayer = this.player.get();\n    this.myPlayer.play("idle");\n    this.myPlayer.setInitialPosition(this.x, this.y, socket.id);\n    knockbacktween(this.myPlayer);\n    socket.emit("create player", {\n      x: self.x,\n      y: self.y,\n      id: socket.id\n    });\n  };\n\n  this.initializeOtherPlayers = context => {\n    this.otherPlayers = context.physics.add.group({\n      classType: Player_Player,\n      maxSize: 100,\n      bounceX: 1,\n      collideWorldBounds: true\n    });\n  };\n};\n// CONCATENATED MODULE: ./src/Maps/tryHardMap.js\nconst tryHardmap = {\n  load: context => {\n    context.load.tilemapTiledJSON("map", "assets/map/tryhard.json");\n    context.load.spritesheet("background", "assets/map/assets/background.png", {\n      frameWidth: 8,\n      frameHeight: 8\n    });\n    context.load.spritesheet("blue_generic", "assets/map/assets/blue_generic.png", {\n      frameWidth: 8,\n      frameHeight: 8\n    });\n  },\n\n  create: context => {\n    context.map = context.make.tilemap({ key: "map" });\n    context.mainTileSet = context.map.addTilesetImage("blue_generic");\n    context.BackgroundTileSet = context.map.addTilesetImage("blue_generic");\n    context.image_backgroundTileSet = context.map.addTilesetImage("background");\n    context.image_backgroundLayer = context.map.createDynamicLayer("image_background", context.image_backgroundTileSet, 0, 0);\n    context.BackgroundLayer = context.map.createDynamicLayer("Background", context.BackgroundTileSet, 0, 0);\n    context.mainLayer = context.map.createDynamicLayer("MAIN", context.mainTileSet, 0, 0);\n\n    context.mainLayer.setCollisionByExclusion([-1]);\n\n    // bounds\n    context.physics.world.bounds.width = context.mainLayer.width;\n    context.physics.world.bounds.height = context.mainLayer.height;\n  }\n};\n// CONCATENATED MODULE: ./src/index.js\n// import "phaser";\n// import "./socketController";\n\n\n\n\n\n\n\nvar config = {\n  type: Phaser.AUTO,\n  parent: "phaser-example",\n  width: 400,\n  height: 300,\n  physics: {\n    default: "arcade",\n    arcade: {\n      gravity: { y: 300 },\n      debug: true\n    }\n  },\n  scene: {\n    preload: preload,\n    create: create,\n    update: update\n  }\n};\n\nvar game = new Phaser.Game(config);\nvar state = new State();\nvar _this;\nvar src_socket = io();\nvar socketController = new SocketController(src_socket);\n\n/**\r\n * THIS IS THE PRE-LOAD FUNCTION\r\n */\nfunction preload() {\n  tryHardmap.load(this);\n  knightAnimations.load(this);\n}\n\n/**\r\n * THIS IS THE CREATE FUNCTION\r\n */\nfunction create() {\n  _this = this;\n  /** Create MAP */\n  tryHardmap.create(this);\n  // animations\n  knightAnimations.create(this);\n  // Initialize Player\n  state.initializePlayer(this, src_socket);\n  // establish camera\n  this.cameras.main.setBounds(0, 0, this.map.widthInPixels, this.map.heightInPixels);\n  // state.myPlayer = state.player.get();\n  this.physics.add.collider(state.myPlayer, this.mainLayer);\n  this.cameras.main.startFollow(state.myPlayer);\n\n  // Initialize Other Players\n  state.initializeOtherPlayers(this, src_socket);\n  this.physics.add.collider(state.otherPlayers, this.mainLayer);\n\n  getInitialPlayers();\n\n  // key listeners\n  state.keys.W = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W);\n  state.keys.A = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A);\n  state.keys.S = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S);\n  state.keys.D = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D);\n  this.input.on("pointerdown", pointer => {\n    if (pointer.buttons === 1) {\n      state.myPlayer.attacking = true;\n      src_socket.emit("attack", { id: state.myPlayer.id });\n    } else if (pointer.buttons === 2) {\n      state.myPlayer.blocking = true;\n      src_socket.emit("block", { id: state.myPlayer.id });\n    }\n  });\n\n  this.input.on("pointerup", function (pointer) {\n    state.myPlayer.attacking = false;\n    state.myPlayer.blocking = false;\n    src_socket.emit("block release", { id: state.myPlayer.id });\n    src_socket.emit("attack release", { id: state.myPlayer.id });\n  });\n\n  this.physics.add.overlap(state.myPlayer, state.otherPlayers, playerCollision);\n\n  socketController.initialize(state);\n}\n\n/**\r\n * THIS IS THE UPDATE FUNCTION\r\n */\n\nfunction update(time, delta) {\n  state.myPlayer.moving = false;\n\n  // keyboard listeners\n  if (state.keys.A.isDown) {\n    state.player.setVelocityX(-160);\n    state.myPlayer.flip(true, src_socket);\n    state.myPlayer.moving = true;\n  } else if (state.keys.D.isDown) {\n    state.player.setVelocityX(160);\n    state.myPlayer.flip(false, src_socket);\n    state.myPlayer.moving = true;\n  } else {\n    state.player.setVelocityX(0);\n  }\n  // Jump\n  if (state.keys.W.isDown && state.myPlayer.body.onFloor()) {\n    state.player.setVelocityY(-250);\n  }\n\n  state.myPlayer.update(src_socket);\n  // socket.emit("move player", {\n  //   x: state.myPlayer.x,\n  //   y: state.myPlayer.y,\n  //   id: state.myPlayer.id\n  // });\n}\n\nfunction getInitialPlayers() {\n  var request = new XMLHttpRequest();\n  request.open("GET", "/initialize", false);\n  request.send(null);\n\n  if (request.status === 200) {\n    state.initialOtherPlayers = JSON.parse(request.response);\n\n    for (var key in state.initialOtherPlayers) {\n      if (key !== state.id) {\n        var otherPlayer = state.otherPlayers.get();\n        if (otherPlayer) {\n          otherPlayer.anims.play("idle");\n          otherPlayer.setInitialPosition(state.initialOtherPlayers[key].x, state.initialOtherPlayers[key].y, key);\n        }\n      }\n    }\n  }\n}\n\nfunction playerCollision(player, otherPlayer) {\n  if (!player.injured) {\n    if (otherPlayer.attacking && !player.blocking) {\n      console.log("knocback");\n      player.health -= 10;\n      if (otherPlayer.flipState) {\n        // tweens.knockback()\n        state.myPlayer.knockbackDistance = -50;\n        // state.knockback.play();\n        state.myPlayer.knockback.play();\n        console.log("knockback");\n      } else {\n        state.myPlayer.knockbackDistance = 50;\n        // state.knockback.play();\n        state.myPlayer.knockback.play();\n      }\n      player.injured = true;\n      setTimeout(() => {\n        player.injured = false;\n      }, 1000);\n      //hit detected\n    } else if (otherPlayer.attacking && player.blocking) {\n      //blocked\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc29ja2V0Q29udHJvbGxlci5qcz9jYTA2Iiwid2VicGFjazovLy8uL3NyYy9Ud2VlbnMvdHdlZW5zLmpzPzE5ZjMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWVPYmplY3RzL1BsYXllci5qcz84NGM2Iiwid2VicGFjazovLy8uL3NyYy9BbmltYXRpb25zL2tuaWdodEFuaW1hdGlvbnMuanM/MzE3OCIsIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGUuanM/ZmFhZSIsIndlYnBhY2s6Ly8vLi9zcmMvTWFwcy90cnlIYXJkTWFwLmpzP2FjMmQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzP2I2MzUiXSwibmFtZXMiOlsiU29ja2V0Q29udHJvbGxlciIsInNvY2tldCIsImluaXRpYWxpemUiLCJzdGF0ZSIsIm9uIiwicGxheWVyIiwiaWQiLCJteVBsYXllciIsImNvbnNvbGUiLCJsb2ciLCJvdGhlclBsYXllciIsIm90aGVyUGxheWVycyIsImdldCIsImFuaW1zIiwicGxheSIsInNldEluaXRpYWxQb3NpdGlvbiIsIngiLCJ5IiwiZGVsZXRlZFBsYXllcklEIiwidGhpc09uZSIsImdldENoaWxkcmVuIiwiZmluZCIsImVsZW1lbnQiLCJkZXN0cm95IiwiaW5pdGlhbERhdGEiLCJtb3ZpbmciLCJzZXRQb3NpdGlvbiIsImF0dGFja2luZyIsInNldEFuaW1hdGlvbiIsImJsb2NraW5nIiwiZmxpcFN0YXRlIiwidG9nZ2xlRmxpcFgiLCJ0d2VlbnNMaWJyYXJ5Iiwic2V0S25vY2tCYWNrVHdlZW4iLCJ0YXJnZXQiLCJrbm9ja2JhY2siLCJ0d2VlbnMiLCJhZGQiLCJ0YXJnZXRzIiwidmFsdWUiLCJrbm9ja2JhY2tEaXN0YW5jZSIsImVhc2UiLCJkdXJhdGlvbiIsInBhdXNlZCIsIm9uQ29tcGxldGUiLCJQbGF5ZXIiLCJQaGFzZXIiLCJDbGFzcyIsIkV4dGVuZHMiLCJHYW1lT2JqZWN0cyIsIlNwcml0ZSIsInNjZW5lIiwiY2FsbCIsImJpbmQiLCJzZXRBY3RpdmUiLCJzZXRWaXNpYmxlIiwia2V5IiwiaGVhbHRoIiwia25vY2tCYWNrRGlzdGFuY2UiLCJpbmp1cmVkIiwic2V0TmV3UG9zaXRpb24iLCJ0YWtlRGFtYWdlIiwiZGFtYWdlIiwiZmxpcCIsIm5ld0ZsaXBTdGF0ZSIsImVtaXQiLCJ1cGRhdGVBbmltYXRpb25zIiwidXBkYXRlU2VydmVyV2l0aFBvc2l0aW9uIiwidXBkYXRlIiwiS25pZ2h0QW5pbWF0aW9ucyIsImxvYWQiLCJjb250ZXh0Iiwic3ByaXRlc2hlZXQiLCJmcmFtZVdpZHRoIiwiZnJhbWVIZWlnaHQiLCJlbmRGcmFtZSIsImNyZWF0ZSIsImZyYW1lcyIsImdlbmVyYXRlRnJhbWVOdW1iZXJzIiwic3RhcnQiLCJlbmQiLCJmcmFtZVJhdGUiLCJyZXBlYXQiLCJTdGF0ZSIsImF0dGFja1RpbWVyIiwiaW5pdGlhbE90aGVyUGxheWVycyIsImF0dGFjayIsImJsb2NrIiwiZGlzYWJsZUlucHV0Iiwia2V5cyIsInVwZGF0ZVBvc2l0aW9uIiwiaW5pdGlhbGl6ZVBsYXllciIsImluaXRpYWxpemVPdGhlclBsYXllcnMiLCJrbm9ja2JhY2t0d2VlbiIsInBoeXNpY3MiLCJncm91cCIsImNsYXNzVHlwZSIsIm1heFNpemUiLCJjb2xsaWRlV29ybGRCb3VuZHMiLCJzZWxmIiwiYm91bmNlWCIsInRyeUhhcmRtYXAiLCJ0aWxlbWFwVGlsZWRKU09OIiwibWFwIiwibWFrZSIsInRpbGVtYXAiLCJtYWluVGlsZVNldCIsImFkZFRpbGVzZXRJbWFnZSIsIkJhY2tncm91bmRUaWxlU2V0IiwiaW1hZ2VfYmFja2dyb3VuZFRpbGVTZXQiLCJpbWFnZV9iYWNrZ3JvdW5kTGF5ZXIiLCJjcmVhdGVEeW5hbWljTGF5ZXIiLCJCYWNrZ3JvdW5kTGF5ZXIiLCJtYWluTGF5ZXIiLCJzZXRDb2xsaXNpb25CeUV4Y2x1c2lvbiIsIndvcmxkIiwiYm91bmRzIiwid2lkdGgiLCJoZWlnaHQiLCJjb25maWciLCJ0eXBlIiwiQVVUTyIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciLCJwcmVsb2FkIiwiZ2FtZSIsIkdhbWUiLCJfdGhpcyIsImlvIiwic29ja2V0Q29udHJvbGxlciIsImNhbWVyYXMiLCJtYWluIiwic2V0Qm91bmRzIiwid2lkdGhJblBpeGVscyIsImhlaWdodEluUGl4ZWxzIiwiY29sbGlkZXIiLCJzdGFydEZvbGxvdyIsImdldEluaXRpYWxQbGF5ZXJzIiwiVyIsImlucHV0Iiwia2V5Ym9hcmQiLCJhZGRLZXkiLCJJbnB1dCIsIktleWJvYXJkIiwiS2V5Q29kZXMiLCJBIiwiUyIsIkQiLCJwb2ludGVyIiwiYnV0dG9ucyIsIm92ZXJsYXAiLCJwbGF5ZXJDb2xsaXNpb24iLCJ0aW1lIiwiZGVsdGEiLCJpc0Rvd24iLCJzZXRWZWxvY2l0eVgiLCJib2R5Iiwib25GbG9vciIsInNldFZlbG9jaXR5WSIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJzZW5kIiwic3RhdHVzIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2UiLCJzZXRUaW1lb3V0Il0sIm1hcHBpbmdzIjoiOzs7QUFBTyxNQUFNQSxtQkFBbUIsVUFBU0MsTUFBVCxFQUFpQjtBQUMvQyxPQUFLQSxNQUFMLEdBQWNBLE1BQWQ7QUFDQSxPQUFLQyxVQUFMLEdBQW1CQyxLQUFELElBQVc7QUFDM0IsU0FBS0YsTUFBTCxDQUFZRyxFQUFaLENBQWUsZUFBZixFQUFnQyxVQUFTQyxNQUFULEVBQWlCO0FBQy9DLFVBQUlBLE9BQU9DLEVBQVAsS0FBY0gsTUFBTUksUUFBTixDQUFlRCxFQUFqQyxFQUFxQztBQUNuQ0UsZ0JBQVFDLEdBQVIsQ0FBWSxpQkFBWixFQUErQkosT0FBT0MsRUFBdEM7QUFDQSxZQUFJSSxjQUFjUCxNQUFNUSxZQUFOLENBQW1CQyxHQUFuQixFQUFsQjtBQUNBLFlBQUlGLFdBQUosRUFBaUI7QUFDZkEsc0JBQVlHLEtBQVosQ0FBa0JDLElBQWxCLENBQXVCLE1BQXZCO0FBQ0FKLHNCQUFZSyxrQkFBWixDQUErQlYs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Q0QsS0FuQkQsTUFtQk8sSUFBSWpELFlBQVlpQixTQUFaLElBQXlCdEIsT0FBT3dCLFFBQXBDLEVBQThDO0FBQ25EO0FBQ0Q7QUFDRjtBQUNGIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgU29ja2V0Q29udHJvbGxlciA9IGZ1bmN0aW9uKHNvY2tldCkge1xyXG4gIHRoaXMuc29ja2V0ID0gc29ja2V0O1xyXG4gIHRoaXMuaW5pdGlhbGl6ZSA9IChzdGF0ZSkgPT4ge1xyXG4gICAgdGhpcy5zb2NrZXQub24oXCJjcmVhdGUgcGxheWVyXCIsIGZ1bmN0aW9uKHBsYXllcikge1xyXG4gICAgICBpZiAocGxheWVyLmlkICE9PSBzdGF0ZS5teVBsYXllci5pZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjcmVhdGluZyBwbGF5ZXInLCBwbGF5ZXIuaWQpO1xyXG4gICAgICAgIHZhciBvdGhlclBsYXllciA9IHN0YXRlLm90aGVyUGxheWVycy5nZXQoKTtcclxuICAgICAgICBpZiAob3RoZXJQbGF5ZXIpIHtcclxuICAgICAgICAgIG90aGVyUGxheWVyLmFuaW1zLnBsYXkoXCJpZGxlXCIpO1xyXG4gICAgICAgICAgb3RoZXJQbGF5ZXIuc2V0SW5pdGlhbFBvc2l0aW9uKHBsYXllci54LCBwbGF5ZXIueSwgcGxheWVyLmlkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIFxyXG4gICAgdGhpcy5zb2NrZXQub24oXCJkZWxldGUgcGxheWVyXCIsIGZ1bmN0aW9uKGRlbGV0ZWRQbGF5ZXJJRCkge1xyXG4gICAgICBpZiAoZGVsZXRlZFBsYXllcklEICE9PSBzdGF0ZS5pZCkge1xyXG4gICAgICAgIHZhciB0aGlzT25lID0gc3RhdGUub3RoZXJQbGF5ZXJzLmdldENoaWxkcmVuKCkuZmluZChmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgICByZXR1cm4gZWxlbWVudC5pZCA9PT0gZGVsZXRlZFBsYXllcklEO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXNPbmUuZGVzdHJveSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnNvY2tldC5vbihcImNvbm5lY3RcIiwgZnVuY3Rpb24oaW5pdGlhbERhdGEpIHtcclxuICAgICAgc3RhdGUuaWQgPSBzb2NrZXQuaWQ7XHJcbiAgICAgIGNvbnNvbGUubG9nKHN0YXRlLmlkKTtcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgdGhpcy5zb2NrZXQub24oXCJ1cGRhdGVcIiwgZnVuY3Rpb24ocGxheWVyKSB7XHJcbiAgICAgIHZhciBtb3ZpbmcgPSBmYWxzZTtcclxuICAgICAgaWYgKHBsYXllci5pZCAhPT0gc3RhdGUuaWQpIHtcclxuICAgICAgICB2YXIgdGhpc09uZSA9IHN0YXRlLm90aGVyUGxheWVycy5nZXRDaGlsZHJlbigpLmZpbmQoZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQuaWQgPT09IHBsYXllci5pZDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXNPbmUgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgIGlmICh0aGlzT25lLnggIT09IHBsYXllci54IHx8IHRoaXNPbmUueSAhPT0gcGxheWVyLnkpIHtcclxuICAgICAgICAgICAgdGhpc09uZS5zZXRQb3NpdGlvbihwbGF5ZXIueCwgcGxheWVyLnkpO1xyXG4gICAgICAgICAgICBtb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgICAgaWYgKHBsYXllci5hdHRhY2tpbmcpIHtcclxuICAgICAgICAgICAgdGhpc09uZS5zZXRBbmltYXRpb24oXCJzbGFzaFwiKTtcclxuICAgICAgICAgICAgdGhpc09uZS5hdHRhY2tpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChwbGF5ZXIuYmxvY2tpbmcpIHtcclxuICAgICAgICAgICAgdGhpc09uZS5zZXRBbmltYXRpb24oXCJibG9ja1wiKTtcclxuICAgICAgICAgICAgdGhpc09uZS5ibG9ja2luZyA9IHRydWU7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKG1vdmluZykge1xyXG4gICAgICAgICAgICB0aGlzT25lLmF0dGFja2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzT25lLmJsb2NraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXNPbmUuc2V0QW5pbWF0aW9uKFwid2Fsa1wiKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXNPbmUuYXR0YWNraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXNPbmUuYmxvY2tpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpc09uZS5zZXRBbmltYXRpb24oXCJpZGxlXCIpO1xyXG4gICAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgICAgaWYgKHRoaXNPbmUuZmxpcFN0YXRlICE9PSBwbGF5ZXIuZmxpcFN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXNPbmUuZmxpcFN0YXRlID0gcGxheWVyLmZsaXBTdGF0ZTtcclxuICAgICAgICAgICAgdGhpc09uZS50b2dnbGVGbGlwWCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgXHJcbiAgICB0aGlzLnNvY2tldC5vbihcImF0dGFja1wiLCBmdW5jdGlvbihwbGF5ZXIpIHt9KTtcclxuICB9XHJcbn1cclxuXHJcbi8vIGV4cG9ydCBjb25zdCBTb2NrZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbihzb2NrZXQsIHN0YXRlKSB7XHJcbiAgXHJcbi8vIH07XHJcbiIsImV4cG9ydCB2YXIgdHdlZW5zTGlicmFyeSA9IHtcclxuICAgIHNldEtub2NrQmFja1R3ZWVuOiBmdW5jdGlvbih0YXJnZXQpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMpO1xyXG4gICAgICAgIHRhcmdldC5rbm9ja2JhY2sgPSB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgdGFyZ2V0czogdGFyZ2V0LFxyXG4gICAgICAgICAgeDoge1xyXG4gICAgICAgICAgICB2YWx1ZTogKCkgPT4gdGFyZ2V0LnggKyB0YXJnZXQua25vY2tiYWNrRGlzdGFuY2UsXHJcbiAgICAgICAgICAgIGVhc2U6IFwiUG93ZXIxXCJcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICAgICAgcGF1c2VkOiB0cnVlLFxyXG4gICAgICAgICAgb25Db21wbGV0ZTogdHdlZW5zTGlicmFyeS5zZXRLbm9ja0JhY2tUd2Vlbih0YXJnZXQpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG59IiwiaW1wb3J0IHNvY2tldENvbnRyb2xsZXIgZnJvbSAnLi4vc29ja2V0Q29udHJvbGxlcic7XHJcbmltcG9ydCB7IHR3ZWVuc0xpYnJhcnkgfSBmcm9tICcuLi9Ud2VlbnMvdHdlZW5zJztcclxuXHJcbmV4cG9ydCBjb25zdCBQbGF5ZXIgPSBuZXcgUGhhc2VyLkNsYXNzKHtcclxuICBFeHRlbmRzOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlLFxyXG5cclxuICBpbml0aWFsaXplOiBmdW5jdGlvbiBQbGF5ZXIoc2NlbmUpIHtcclxuICAgIFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGUuY2FsbCh0aGlzLCBzY2VuZSwgMCwgMCwgXCJub3RoaW5nXCIpO1xyXG5cclxuICAgIGxldCBzZXRLbm9ja0JhY2tUd2VlbiA9IHR3ZWVuc0xpYnJhcnkuc2V0S25vY2tCYWNrVHdlZW4uYmluZChzY2VuZSk7XHJcbiAgICB0aGlzLmtub2NrYmFjayA9IHNldEtub2NrQmFja1R3ZWVuKHRoaXMpO1xyXG4gIH0sXHJcblxyXG4gIHNldEluaXRpYWxQb3NpdGlvbjogZnVuY3Rpb24oeCwgeSwgaWQpIHtcclxuICAgIHRoaXMuc2V0UG9zaXRpb24oeCwgeSk7XHJcbiAgICB0aGlzLnNldEFjdGl2ZSh0cnVlKTtcclxuICAgIHRoaXMuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIHRoaXMua2V5ID0gXCJpZGxlXCI7XHJcbiAgICB0aGlzLmhlYWx0aCA9IDEwMDtcclxuICAgIHRoaXMua25vY2tCYWNrRGlzdGFuY2UgPSA1MDtcclxuICAgIHRoaXMuZmxpcFN0YXRlID0gZmFsc2U7XHJcbiAgICB0aGlzLmF0dGFja2luZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5ibG9ja2luZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5tb3ZpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMuaW5qdXJlZCA9IGZhbHNlO1xyXG4gIH0sXHJcblxyXG4gIHNldE5ld1Bvc2l0aW9uOiBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICB0aGlzLnNldFBvc2l0aW9uKHgsIHkpO1xyXG4gIH0sXHJcblxyXG4gIHNldEFuaW1hdGlvbjogZnVuY3Rpb24oa2V5KSB7XHJcbiAgICBpZiAodGhpcy5rZXkgIT09IGtleSkge1xyXG4gICAgICB0aGlzLnBsYXkoa2V5KTtcclxuICAgICAgdGhpcy5rZXkgPSBrZXk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgdGFrZURhbWFnZTogZnVuY3Rpb24oZGFtYWdlKSB7XHJcbiAgICB0aGlzLmhlYWx0aCAtPSBkYW1hZ2U7XHJcbiAgfSxcclxuXHJcbiAgZmxpcDogZnVuY3Rpb24obmV3RmxpcFN0YXRlLCBzb2NrZXQpIHtcclxuICAgIGlmIChuZXdGbGlwU3RhdGUgIT09IHRoaXMuZmxpcFN0YXRlKSB7XHJcbiAgICAgIHRoaXMuZmxpcFN0YXRlID0gbmV3RmxpcFN0YXRlO1xyXG4gICAgICB0aGlzLnRvZ2dsZUZsaXBYKCk7XHJcbiAgICAgIHNvY2tldC5lbWl0KFwiZmxpcFwiLCB7IGlkOiB0aGlzLmlkLCBmbGlwU3RhdGU6IHRoaXMuZmxpcFN0YXRlIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHVwZGF0ZUFuaW1hdGlvbnM6IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMuYXR0YWNraW5nKSB7XHJcbiAgICAgIHRoaXMuc2V0QW5pbWF0aW9uKFwic2xhc2hcIik7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuYmxvY2tpbmcpIHtcclxuICAgICAgdGhpcy5zZXRBbmltYXRpb24oXCJibG9ja1wiKTtcclxuICAgICAgLy8gYmxvY2tDb2xsaWRlcihteVBsYXllcik7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMubW92aW5nKSB7XHJcbiAgICAgIHRoaXMuc2V0QW5pbWF0aW9uKFwid2Fsa1wiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2V0QW5pbWF0aW9uKFwiaWRsZVwiKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICB1cGRhdGVTZXJ2ZXJXaXRoUG9zaXRpb24oc29ja2V0KXtcclxuICAgIHNvY2tldC5lbWl0KFwibW92ZSBwbGF5ZXJcIiwge1xyXG4gICAgICB4OiB0aGlzLngsXHJcbiAgICAgIHk6IHRoaXMueSxcclxuICAgICAgaWQ6IHRoaXMuaWRcclxuICAgIH0pO1xyXG4gIH0sXHJcblxyXG4gIHVwZGF0ZTogZnVuY3Rpb24oc29ja2V0KSB7XHJcbiAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbnMoKTtcclxuICAgIHRoaXMudXBkYXRlU2VydmVyV2l0aFBvc2l0aW9uKHNvY2tldCk7XHJcbiAgfVxyXG59KTtcclxuIiwibGV0IEtuaWdodEFuaW1hdGlvbnMgPSB7fTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEtuaWdodEFuaW1hdGlvbnMgPSB7XHJcbiAgICBsb2FkKGNvbnRleHQpe1xyXG4gICAgICAgIGNvbnRleHQubG9hZC5zcHJpdGVzaGVldChcImlkbGluZ1wiLCBcImFzc2V0cy9rbmlnaHQvaWRsZS5wbmdcIiwge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiA0MixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDQyLFxyXG4gICAgICAgICAgICBlbmRGcmFtZTogNFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBjb250ZXh0LmxvYWQuc3ByaXRlc2hlZXQoXCJ3YWxraW5nXCIsIFwiYXNzZXRzL2tuaWdodC93YWxrLnBuZ1wiLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDQyLFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogNDIsXHJcbiAgICAgICAgICAgIGVuZEZyYW1lOiA4XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGNvbnRleHQubG9hZC5zcHJpdGVzaGVldChcInNsYXNoaW5nXCIsIFwiYXNzZXRzL2tuaWdodC9zbGFzaC5wbmdcIiwge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiA0MixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDQyLFxyXG4gICAgICAgICAgICBlbmRGcmFtZTogMTBcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgY29udGV4dC5sb2FkLnNwcml0ZXNoZWV0KFwiYmxvY2tpbmdcIiwgXCJhc3NldHMva25pZ2h0L2Jsb2NrLnBuZ1wiLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDQyLFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogNDIsXHJcbiAgICAgICAgICAgIGVuZEZyYW1lOiA3XHJcbiAgICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgY3JlYXRlKGNvbnRleHQpe1xyXG4gICAgICAgIGNvbnRleHQuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBcImlkbGVcIixcclxuICAgICAgICAgICAgZnJhbWVzOiBjb250ZXh0LmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKFwiaWRsaW5nXCIsIHsgc3RhcnQ6IDAsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAgIGNvbnRleHQuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBcIndhbGtcIixcclxuICAgICAgICAgICAgZnJhbWVzOiBjb250ZXh0LmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKFwid2Fsa2luZ1wiLCB7IHN0YXJ0OiAwLCBlbmQ6IDcgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjQsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgY29udGV4dC5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IFwic2xhc2hcIixcclxuICAgICAgICAgICAgZnJhbWVzOiBjb250ZXh0LmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKFwic2xhc2hpbmdcIiwgeyBzdGFydDogMCwgZW5kOiA5IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDI0LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAgIGNvbnRleHQuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBcImJsb2NrXCIsXHJcbiAgICAgICAgICAgIGZyYW1lczogY29udGV4dC5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycyhcImJsb2NraW5nXCIsIHsgc3RhcnQ6IDAsIGVuZDogNiB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyNFxyXG4gICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsIi8vIGdhbWUgc3RhdGUgY29uc3RydWN0b3JcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vR2FtZU9iamVjdHMvUGxheWVyXCI7XHJcbmltcG9ydCB7IHR3ZWVuc0xpYnJhcnkgfSBmcm9tIFwiLi9Ud2VlbnMvdHdlZW5zXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBTdGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gIHRoaXMuaWQgPSBcIlwiO1xyXG4gIHRoaXMueCA9IDIwMDtcclxuICB0aGlzLnkgPSAyMDA7XHJcbiAgdGhpcy5hdHRhY2tUaW1lciA9IG51bGw7XHJcbiAgdGhpcy5pbml0aWFsT3RoZXJQbGF5ZXJzID0gW107XHJcbiAgdGhpcy5vdGhlclBsYXllcnMgPSB7fTtcclxuICB0aGlzLnBsYXllciA9IHt9O1xyXG4gIHRoaXMubXlQbGF5ZXIgPSB7fTtcclxuICB0aGlzLm1vdmluZyA9IGZhbHNlO1xyXG4gIHRoaXMuYXR0YWNrID0gZmFsc2U7XHJcbiAgdGhpcy5ibG9jayA9IGZhbHNlO1xyXG4gIHRoaXMuZGlzYWJsZUlucHV0ID0gZmFsc2U7XHJcbiAgdGhpcy5rbm9ja2JhY2sgPSBudWxsO1xyXG4gIHRoaXMua2V5cyA9IHt9O1xyXG5cclxuXHJcbiAgdGhpcy51cGRhdGVQb3NpdGlvbiA9ICh4LCB5KSA9PiB7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuICB9O1xyXG5cclxuICB0aGlzLmluaXRpYWxpemUgPSAoY29udGV4dCkgPT4ge1xyXG4gICAgdGhpcy5pbml0aWFsaXplUGxheWVyKGNvbnRleHQpO1xyXG4gICAgdGhpcy5pbml0aWFsaXplT3RoZXJQbGF5ZXJzKGNvbnRleHQpO1xyXG4gIH1cclxuXHJcbiAgdGhpcy5pbml0aWFsaXplUGxheWVyID0gKGNvbnRleHQsIHNvY2tldCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coY29udGV4dCk7XHJcbiAgICBsZXQga25vY2tiYWNrdHdlZW4gPSB0d2VlbnNMaWJyYXJ5LnNldEtub2NrQmFja1R3ZWVuLmJpbmQoY29udGV4dCk7XHJcbiAgICB0aGlzLnBsYXllciA9IGNvbnRleHQucGh5c2ljcy5hZGQuZ3JvdXAoe1xyXG4gICAgICBjbGFzc1R5cGU6IFBsYXllcixcclxuICAgICAgbWF4U2l6ZTogMSxcclxuICAgICAgY29sbGlkZVdvcmxkQm91bmRzOiB0cnVlXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLm15UGxheWVyPXRoaXMucGxheWVyLmdldCgpO1xyXG4gICAgdGhpcy5teVBsYXllci5wbGF5KFwiaWRsZVwiKTtcclxuICAgIHRoaXMubXlQbGF5ZXIuc2V0SW5pdGlhbFBvc2l0aW9uKHRoaXMueCwgdGhpcy55LCBzb2NrZXQuaWQpO1xyXG4gICAga25vY2tiYWNrdHdlZW4odGhpcy5teVBsYXllcik7XHJcbiAgICBzb2NrZXQuZW1pdChcImNyZWF0ZSBwbGF5ZXJcIiwge1xyXG4gICAgICB4OiBzZWxmLngsXHJcbiAgICAgIHk6IHNlbGYueSxcclxuICAgICAgaWQ6IHNvY2tldC5pZFxyXG4gICAgfSk7XHJcblxyXG4gICAgXHJcbiAgfTtcclxuXHJcbiAgdGhpcy5pbml0aWFsaXplT3RoZXJQbGF5ZXJzID0gY29udGV4dCA9PiB7XHJcbiAgICB0aGlzLm90aGVyUGxheWVycyA9IGNvbnRleHQucGh5c2ljcy5hZGQuZ3JvdXAoe1xyXG4gICAgICBjbGFzc1R5cGU6IFBsYXllcixcclxuICAgICAgbWF4U2l6ZTogMTAwLFxyXG4gICAgICBib3VuY2VYOiAxLFxyXG4gICAgICBjb2xsaWRlV29ybGRCb3VuZHM6IHRydWVcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IHRyeUhhcmRtYXAgPSB7XHJcbiAgICBsb2FkOiAoY29udGV4dCkgPT4ge1xyXG4gICAgICBjb250ZXh0LmxvYWQudGlsZW1hcFRpbGVkSlNPTihcIm1hcFwiLCBcImFzc2V0cy9tYXAvdHJ5aGFyZC5qc29uXCIpO1xyXG4gICAgICBjb250ZXh0LmxvYWQuc3ByaXRlc2hlZXQoXCJiYWNrZ3JvdW5kXCIsIFwiYXNzZXRzL21hcC9hc3NldHMvYmFja2dyb3VuZC5wbmdcIiwge1xyXG4gICAgICAgIGZyYW1lV2lkdGg6IDgsXHJcbiAgICAgICAgZnJhbWVIZWlnaHQ6IDhcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnRleHQubG9hZC5zcHJpdGVzaGVldChcImJsdWVfZ2VuZXJpY1wiLCBcImFzc2V0cy9tYXAvYXNzZXRzL2JsdWVfZ2VuZXJpYy5wbmdcIiwge1xyXG4gICAgICAgIGZyYW1lV2lkdGg6IDgsXHJcbiAgICAgICAgZnJhbWVIZWlnaHQ6IDhcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGNyZWF0ZTogKGNvbnRleHQpID0+IHtcclxuICAgICAgICBjb250ZXh0Lm1hcCA9IGNvbnRleHQubWFrZS50aWxlbWFwKHsga2V5OiBcIm1hcFwiIH0pO1xyXG4gICAgICAgIGNvbnRleHQubWFpblRpbGVTZXQgPSBjb250ZXh0Lm1hcC5hZGRUaWxlc2V0SW1hZ2UoXCJibHVlX2dlbmVyaWNcIik7XHJcbiAgICAgICAgY29udGV4dC5CYWNrZ3JvdW5kVGlsZVNldCA9IGNvbnRleHQubWFwLmFkZFRpbGVzZXRJbWFnZShcImJsdWVfZ2VuZXJpY1wiKTtcclxuICAgICAgICBjb250ZXh0LmltYWdlX2JhY2tncm91bmRUaWxlU2V0ID0gY29udGV4dC5tYXAuYWRkVGlsZXNldEltYWdlKFwiYmFja2dyb3VuZFwiKTtcclxuICAgICAgICBjb250ZXh0LmltYWdlX2JhY2tncm91bmRMYXllciA9IGNvbnRleHQubWFwLmNyZWF0ZUR5bmFtaWNMYXllcihcclxuICAgICAgICAgIFwiaW1hZ2VfYmFja2dyb3VuZFwiLFxyXG4gICAgICAgICAgY29udGV4dC5pbWFnZV9iYWNrZ3JvdW5kVGlsZVNldCxcclxuICAgICAgICAgIDAsXHJcbiAgICAgICAgICAwXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb250ZXh0LkJhY2tncm91bmRMYXllciA9IGNvbnRleHQubWFwLmNyZWF0ZUR5bmFtaWNMYXllcihcclxuICAgICAgICAgIFwiQmFja2dyb3VuZFwiLFxyXG4gICAgICAgICAgY29udGV4dC5CYWNrZ3JvdW5kVGlsZVNldCxcclxuICAgICAgICAgIDAsXHJcbiAgICAgICAgICAwXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb250ZXh0Lm1haW5MYXllciA9IGNvbnRleHQubWFwLmNyZWF0ZUR5bmFtaWNMYXllcihcIk1BSU5cIiwgY29udGV4dC5tYWluVGlsZVNldCwgMCwgMCk7XHJcbiAgICAgIFxyXG4gICAgICAgIGNvbnRleHQubWFpbkxheWVyLnNldENvbGxpc2lvbkJ5RXhjbHVzaW9uKFstMV0pO1xyXG4gICAgICBcclxuICAgICAgICAvLyBib3VuZHNcclxuICAgICAgICBjb250ZXh0LnBoeXNpY3Mud29ybGQuYm91bmRzLndpZHRoID0gY29udGV4dC5tYWluTGF5ZXIud2lkdGg7XHJcbiAgICAgICAgY29udGV4dC5waHlzaWNzLndvcmxkLmJvdW5kcy5oZWlnaHQgPSBjb250ZXh0Lm1haW5MYXllci5oZWlnaHQ7XHJcbiAgICB9XHJcbn0iLCIvLyBpbXBvcnQgXCJwaGFzZXJcIjtcclxuLy8gaW1wb3J0IFwiLi9zb2NrZXRDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL0dhbWVPYmplY3RzL1BsYXllclwiO1xyXG5pbXBvcnQgIEtuaWdodEFuaW1hdGlvbnMgIGZyb20gJy4vQW5pbWF0aW9ucy9rbmlnaHRBbmltYXRpb25zJztcclxuaW1wb3J0IHsgU3RhdGUgfSBmcm9tIFwiLi9zdGF0ZVwiO1xyXG5pbXBvcnQgeyBTb2NrZXRDb250cm9sbGVyIH0gZnJvbSBcIi4vc29ja2V0Q29udHJvbGxlclwiO1xyXG5pbXBvcnQgeyB0cnlIYXJkbWFwIH0gZnJvbSBcIi4vTWFwcy90cnlIYXJkTWFwXCI7XHJcbmltcG9ydCB0d2VlbnMgZnJvbSAnLi9Ud2VlbnMvdHdlZW5zJztcclxuXHJcblxyXG52YXIgY29uZmlnID0ge1xyXG4gIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gIHBhcmVudDogXCJwaGFzZXItZXhhbXBsZVwiLFxyXG4gIHdpZHRoOiA0MDAsXHJcbiAgaGVpZ2h0OiAzMDAsXHJcbiAgcGh5c2ljczoge1xyXG4gICAgZGVmYXVsdDogXCJhcmNhZGVcIixcclxuICAgIGFyY2FkZToge1xyXG4gICAgICBncmF2aXR5OiB7IHk6IDMwMCB9LFxyXG4gICAgICBkZWJ1ZzogdHJ1ZVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgc2NlbmU6IHtcclxuICAgIHByZWxvYWQ6IHByZWxvYWQsXHJcbiAgICBjcmVhdGU6IGNyZWF0ZSxcclxuICAgIHVwZGF0ZTogdXBkYXRlXHJcbiAgfVxyXG59O1xyXG5cclxuXHJcbnZhciBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7XHJcbnZhciBzdGF0ZSA9IG5ldyBTdGF0ZSgpO1xyXG52YXIgX3RoaXM7XHJcbnZhciBzb2NrZXQgPSBpbygpO1xyXG52YXIgc29ja2V0Q29udHJvbGxlciA9IG5ldyBTb2NrZXRDb250cm9sbGVyKHNvY2tldCk7XHJcblxyXG5cclxuLyoqXHJcbiAqIFRISVMgSVMgVEhFIFBSRS1MT0FEIEZVTkNUSU9OXHJcbiAqL1xyXG5mdW5jdGlvbiBwcmVsb2FkKCkge1xyXG4gIHRyeUhhcmRtYXAubG9hZCh0aGlzKTtcclxuICBLbmlnaHRBbmltYXRpb25zLmxvYWQodGhpcyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUSElTIElTIFRIRSBDUkVBVEUgRlVOQ1RJT05cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZSgpIHtcclxuICBfdGhpcyA9IHRoaXM7XHJcbiAgLyoqIENyZWF0ZSBNQVAgKi9cclxuICB0cnlIYXJkbWFwLmNyZWF0ZSh0aGlzKTtcclxuICAvLyBhbmltYXRpb25zXHJcbiAgS25pZ2h0QW5pbWF0aW9ucy5jcmVhdGUodGhpcyk7XHJcbiAgLy8gSW5pdGlhbGl6ZSBQbGF5ZXJcclxuICBzdGF0ZS5pbml0aWFsaXplUGxheWVyKHRoaXMsIHNvY2tldCk7XHJcbiAgLy8gZXN0YWJsaXNoIGNhbWVyYVxyXG4gIHRoaXMuY2FtZXJhcy5tYWluLnNldEJvdW5kcyhcclxuICAgIDAsXHJcbiAgICAwLFxyXG4gICAgdGhpcy5tYXAud2lkdGhJblBpeGVscyxcclxuICAgIHRoaXMubWFwLmhlaWdodEluUGl4ZWxzXHJcbiAgKTtcclxuICAvLyBzdGF0ZS5teVBsYXllciA9IHN0YXRlLnBsYXllci5nZXQoKTtcclxuICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHN0YXRlLm15UGxheWVyLCB0aGlzLm1haW5MYXllcik7XHJcbiAgdGhpcy5jYW1lcmFzLm1haW4uc3RhcnRGb2xsb3coc3RhdGUubXlQbGF5ZXIpO1xyXG5cclxuXHJcbiAgLy8gSW5pdGlhbGl6ZSBPdGhlciBQbGF5ZXJzXHJcbiAgc3RhdGUuaW5pdGlhbGl6ZU90aGVyUGxheWVycyh0aGlzLCBzb2NrZXQpO1xyXG4gIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIoc3RhdGUub3RoZXJQbGF5ZXJzLCB0aGlzLm1haW5MYXllcik7XHJcblxyXG4gIGdldEluaXRpYWxQbGF5ZXJzKCk7XHJcblxyXG4gIC8vIGtleSBsaXN0ZW5lcnNcclxuICBzdGF0ZS5rZXlzLlcgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuVyk7XHJcbiAgc3RhdGUua2V5cy5BID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkEpO1xyXG4gIHN0YXRlLmtleXMuUyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5TKTtcclxuICBzdGF0ZS5rZXlzLkQgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRCk7XHJcbiAgdGhpcy5pbnB1dC5vbihcInBvaW50ZXJkb3duXCIsIHBvaW50ZXIgPT4ge1xyXG4gICAgaWYgKHBvaW50ZXIuYnV0dG9ucyA9PT0gMSkge1xyXG4gICAgICBzdGF0ZS5teVBsYXllci5hdHRhY2tpbmcgPSB0cnVlO1xyXG4gICAgICBzb2NrZXQuZW1pdChcImF0dGFja1wiLCB7IGlkOiBzdGF0ZS5teVBsYXllci5pZCB9KTtcclxuICAgIH0gZWxzZSBpZiAocG9pbnRlci5idXR0b25zID09PSAyKSB7XHJcbiAgICAgIHN0YXRlLm15UGxheWVyLmJsb2NraW5nID0gdHJ1ZTtcclxuICAgICAgc29ja2V0LmVtaXQoXCJibG9ja1wiLCB7IGlkOiBzdGF0ZS5teVBsYXllci5pZCB9KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdGhpcy5pbnB1dC5vbihcInBvaW50ZXJ1cFwiLCBmdW5jdGlvbihwb2ludGVyKSB7XHJcbiAgICBzdGF0ZS5teVBsYXllci5hdHRhY2tpbmcgPSBmYWxzZTtcclxuICAgIHN0YXRlLm15UGxheWVyLmJsb2NraW5nID0gZmFsc2U7XHJcbiAgICBzb2NrZXQuZW1pdChcImJsb2NrIHJlbGVhc2VcIiwgeyBpZDogc3RhdGUubXlQbGF5ZXIuaWQgfSk7XHJcbiAgICBzb2NrZXQuZW1pdChcImF0dGFjayByZWxlYXNlXCIsIHsgaWQ6IHN0YXRlLm15UGxheWVyLmlkIH0pO1xyXG4gIH0pO1xyXG5cclxuICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAoc3RhdGUubXlQbGF5ZXIsIHN0YXRlLm90aGVyUGxheWVycywgcGxheWVyQ29sbGlzaW9uKTtcclxuXHJcblxyXG4gIHNvY2tldENvbnRyb2xsZXIuaW5pdGlhbGl6ZShzdGF0ZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUSElTIElTIFRIRSBVUERBVEUgRlVOQ1RJT05cclxuICovXHJcblxyXG5mdW5jdGlvbiB1cGRhdGUodGltZSwgZGVsdGEpIHtcclxuICBzdGF0ZS5teVBsYXllci5tb3ZpbmcgPSBmYWxzZTtcclxuXHJcbiAgLy8ga2V5Ym9hcmQgbGlzdGVuZXJzXHJcbiAgaWYgKHN0YXRlLmtleXMuQS5pc0Rvd24pIHtcclxuICAgIHN0YXRlLnBsYXllci5zZXRWZWxvY2l0eVgoLTE2MCk7XHJcbiAgICBzdGF0ZS5teVBsYXllci5mbGlwKHRydWUsIHNvY2tldCk7XHJcbiAgICBzdGF0ZS5teVBsYXllci5tb3ZpbmcgPSB0cnVlO1xyXG4gIH0gZWxzZSBpZiAoc3RhdGUua2V5cy5ELmlzRG93bikge1xyXG4gICAgc3RhdGUucGxheWVyLnNldFZlbG9jaXR5WCgxNjApO1xyXG4gICAgc3RhdGUubXlQbGF5ZXIuZmxpcChmYWxzZSwgc29ja2V0KTtcclxuICAgIHN0YXRlLm15UGxheWVyLm1vdmluZyA9IHRydWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHN0YXRlLnBsYXllci5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgfVxyXG4gIC8vIEp1bXBcclxuICBpZiAoc3RhdGUua2V5cy5XLmlzRG93biAmJiBzdGF0ZS5teVBsYXllci5ib2R5Lm9uRmxvb3IoKSkge1xyXG4gICAgc3RhdGUucGxheWVyLnNldFZlbG9jaXR5WSgtMjUwKTtcclxuICB9XHJcblxyXG4gIHN0YXRlLm15UGxheWVyLnVwZGF0ZShzb2NrZXQpO1xyXG4gIC8vIHNvY2tldC5lbWl0KFwibW92ZSBwbGF5ZXJcIiwge1xyXG4gIC8vICAgeDogc3RhdGUubXlQbGF5ZXIueCxcclxuICAvLyAgIHk6IHN0YXRlLm15UGxheWVyLnksXHJcbiAgLy8gICBpZDogc3RhdGUubXlQbGF5ZXIuaWRcclxuICAvLyB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0SW5pdGlhbFBsYXllcnMoKSB7XHJcbiAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICByZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgXCIvaW5pdGlhbGl6ZVwiLCBmYWxzZSk7XHJcbiAgcmVxdWVzdC5zZW5kKG51bGwpO1xyXG5cclxuICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgc3RhdGUuaW5pdGlhbE90aGVyUGxheWVycyA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZSk7XHJcblxyXG4gICAgZm9yICh2YXIga2V5IGluIHN0YXRlLmluaXRpYWxPdGhlclBsYXllcnMpIHtcclxuICAgICAgaWYgKGtleSAhPT0gc3RhdGUuaWQpIHtcclxuICAgICAgICB2YXIgb3RoZXJQbGF5ZXIgPSBzdGF0ZS5vdGhlclBsYXllcnMuZ2V0KCk7XHJcbiAgICAgICAgaWYgKG90aGVyUGxheWVyKSB7XHJcbiAgICAgICAgICBvdGhlclBsYXllci5hbmltcy5wbGF5KFwiaWRsZVwiKTtcclxuICAgICAgICAgIG90aGVyUGxheWVyLnNldEluaXRpYWxQb3NpdGlvbihcclxuICAgICAgICAgICAgc3RhdGUuaW5pdGlhbE90aGVyUGxheWVyc1trZXldLngsXHJcbiAgICAgICAgICAgIHN0YXRlLmluaXRpYWxPdGhlclBsYXllcnNba2V5XS55LFxyXG4gICAgICAgICAgICBrZXlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBwbGF5ZXJDb2xsaXNpb24ocGxheWVyLCBvdGhlclBsYXllcikge1xyXG4gIGlmICghcGxheWVyLmluanVyZWQpIHtcclxuICAgIGlmIChvdGhlclBsYXllci5hdHRhY2tpbmcgJiYgIXBsYXllci5ibG9ja2luZykge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImtub2NiYWNrXCIpO1xyXG4gICAgICBwbGF5ZXIuaGVhbHRoIC09IDEwO1xyXG4gICAgICBpZiAob3RoZXJQbGF5ZXIuZmxpcFN0YXRlKSB7XHJcbiAgICAgICAgLy8gdHdlZW5zLmtub2NrYmFjaygpXHJcbiAgICAgICAgc3RhdGUubXlQbGF5ZXIua25vY2tiYWNrRGlzdGFuY2UgPSAtNTA7XHJcbiAgICAgICAgLy8gc3RhdGUua25vY2tiYWNrLnBsYXkoKTtcclxuICAgICAgICBzdGF0ZS5teVBsYXllci5rbm9ja2JhY2sucGxheSgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwia25vY2tiYWNrXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN0YXRlLm15UGxheWVyLmtub2NrYmFja0Rpc3RhbmNlID0gNTA7XHJcbiAgICAgICAgLy8gc3RhdGUua25vY2tiYWNrLnBsYXkoKTtcclxuICAgICAgICBzdGF0ZS5teVBsYXllci5rbm9ja2JhY2sucGxheSgpO1xyXG4gICAgICB9XHJcbiAgICAgIHBsYXllci5pbmp1cmVkID0gdHJ1ZTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgcGxheWVyLmluanVyZWQgPSBmYWxzZTtcclxuICAgICAgfSwgMTAwMCk7XHJcbiAgICAgIC8vaGl0IGRldGVjdGVkXHJcbiAgICB9IGVsc2UgaWYgKG90aGVyUGxheWVyLmF0dGFja2luZyAmJiBwbGF5ZXIuYmxvY2tpbmcpIHtcclxuICAgICAgLy9ibG9ja2VkXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n')}]);